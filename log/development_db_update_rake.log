# Logfile created on Thu Dec 23 13:23:57 -0800 20102010-12-23 13:35:47 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-23 13:35:47 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-23 13:35:47 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:35:47 - DEBUG:   [4;35;1mSQL (50.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:35:47 - INFO: Migrating to CreateArticles (20081113233857)
2010-12-23 13:35:47 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2010-12-23 13:35:47 - INFO: Migrating to CreateSources (20081118183235)
2010-12-23 13:35:47 - INFO: Migrating to CreateUsers (20081118185107)
2010-12-23 13:35:47 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2010-12-23 13:35:47 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2010-12-23 13:35:47 - INFO: Migrating to CreateRetrievals (20081124061921)
2010-12-23 13:35:47 - INFO: Migrating to CreateCitations (20081124073438)
2010-12-23 13:35:47 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2010-12-23 13:35:47 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2010-12-23 13:35:47 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2010-12-23 13:35:47 - INFO: Migrating to AddActiveToSources (20081205174929)
2010-12-23 13:35:47 - INFO: Migrating to FixCitationCounting (20081208232023)
2010-12-23 13:35:47 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2010-12-23 13:35:47 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2010-12-23 13:35:47 - INFO: Migrating to CreateHistories (20081229214209)
2010-12-23 13:35:47 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2010-12-23 13:35:47 - INFO: Migrating to AddArticleTitle (20090303222502)
2010-12-23 13:35:47 - INFO: Migrating to AddIndices (20090311212528)
2010-12-23 13:35:47 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2010-12-23 13:35:47 - INFO: Migrating to AddNameToSource (20090318213801)
2010-12-23 13:35:47 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2010-12-23 13:35:47 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2010-12-23 13:35:47 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2010-12-23 13:35:47 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2010-12-23 13:35:47 - INFO: Migrating to AddTimeout (20091207225429)
2010-12-23 13:35:47 - INFO: Migrating to AddGroups (20100408211121)
2010-12-23 13:35:47 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2010-12-23 13:35:48 - DEBUG:   [4;36;1mSQL (573.0ms)[0m   [0;1mALTER TABLE `sources` ADD `disable_until` datetime[0m
2010-12-23 13:35:48 - DEBUG:   [4;35;1mSQL (315.1ms)[0m   [0mALTER TABLE `sources` ADD `disable_delay` int(11) DEFAULT 900[0m
2010-12-23 13:35:48 - DEBUG:   [4;36;1mSQL (90.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100629001517')[0m
2010-12-23 13:35:48 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2010-12-23 13:36:05 - DEBUG:   [4;35;1mSQL (16642.9ms)[0m   [0mALTER TABLE `retrievals` ADD `running` tinyint(1)[0m
2010-12-23 13:36:05 - DEBUG:   [4;36;1mSQL (63.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100629212419')[0m
2010-12-23 13:36:05 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2010-12-23 13:36:05 - DEBUG:   [4;35;1mSQL (328.1ms)[0m   [0mALTER TABLE `sources` ADD `partner_id` varchar(255)[0m
2010-12-23 13:36:05 - DEBUG:   [4;36;1mSQL (57.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100811225645')[0m
2010-12-23 13:36:05 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2010-12-23 13:36:05 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-23 13:36:05 - DEBUG:   [4;36;1mSQL (97.1ms)[0m   [0;1mALTER TABLE `retrievals` CHANGE `retrieved_at` `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00'[0m
2010-12-23 13:36:07 - DEBUG:   [4;35;1mRetrieval Update (1562.2ms)[0m   [0mUPDATE `retrievals` SET retrieved_at = '1970-01-01 00:00:00' WHERE (retrieved_at IS NULL) [0m
2010-12-23 13:36:07 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `retrievals`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (16878.3ms)[0m   [0mALTER TABLE `retrievals` CHANGE `retrieved_at` `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (49.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101026191031')[0m
2010-12-23 13:36:24 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (80.3ms)[0m   [0;1mALTER TABLE `sources` CHANGE `disable_delay` `disable_delay` int DEFAULT 10[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (51.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101217140525')[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `articles`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (102.0ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `citations`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (269.9ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `groups`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mdescribe `histories`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (176.0ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `retrievals`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (5.4ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mdescribe `sources`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2010-12-23 13:36:24 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `users`[0m
2010-12-23 13:36:24 - DEBUG:   [4;35;1mSQL (5.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:36:32 - INFO: Migrating to CreateArticles (20081113233857)
2010-12-23 13:36:32 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2010-12-23 13:36:32 - INFO: Migrating to CreateSources (20081118183235)
2010-12-23 13:36:32 - INFO: Migrating to CreateUsers (20081118185107)
2010-12-23 13:36:32 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2010-12-23 13:36:32 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2010-12-23 13:36:32 - INFO: Migrating to CreateRetrievals (20081124061921)
2010-12-23 13:36:32 - INFO: Migrating to CreateCitations (20081124073438)
2010-12-23 13:36:32 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2010-12-23 13:36:32 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2010-12-23 13:36:32 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2010-12-23 13:36:32 - INFO: Migrating to AddActiveToSources (20081205174929)
2010-12-23 13:36:32 - INFO: Migrating to FixCitationCounting (20081208232023)
2010-12-23 13:36:32 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2010-12-23 13:36:32 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2010-12-23 13:36:32 - INFO: Migrating to CreateHistories (20081229214209)
2010-12-23 13:36:32 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2010-12-23 13:36:32 - INFO: Migrating to AddArticleTitle (20090303222502)
2010-12-23 13:36:32 - INFO: Migrating to AddIndices (20090311212528)
2010-12-23 13:36:32 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2010-12-23 13:36:32 - INFO: Migrating to AddNameToSource (20090318213801)
2010-12-23 13:36:32 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2010-12-23 13:36:32 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2010-12-23 13:36:32 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2010-12-23 13:36:32 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2010-12-23 13:36:32 - INFO: Migrating to AddTimeout (20091207225429)
2010-12-23 13:36:32 - INFO: Migrating to AddGroups (20100408211121)
2010-12-23 13:36:32 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2010-12-23 13:36:32 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2010-12-23 13:36:32 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2010-12-23 13:36:32 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2010-12-23 13:36:32 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `articles`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (103.4ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mdescribe `citations`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (165.6ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `groups`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `histories`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (104.0ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `retrievals`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (6.2ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mdescribe `sources`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2010-12-23 13:36:32 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `users`[0m
2010-12-23 13:36:32 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:39:13 - INFO: Migrating to CreateArticles (20081113233857)
2010-12-23 13:39:13 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2010-12-23 13:39:13 - INFO: Migrating to CreateSources (20081118183235)
2010-12-23 13:39:13 - INFO: Migrating to CreateUsers (20081118185107)
2010-12-23 13:39:13 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2010-12-23 13:39:13 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2010-12-23 13:39:13 - INFO: Migrating to CreateRetrievals (20081124061921)
2010-12-23 13:39:13 - INFO: Migrating to CreateCitations (20081124073438)
2010-12-23 13:39:13 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2010-12-23 13:39:13 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2010-12-23 13:39:13 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2010-12-23 13:39:13 - INFO: Migrating to AddActiveToSources (20081205174929)
2010-12-23 13:39:13 - INFO: Migrating to FixCitationCounting (20081208232023)
2010-12-23 13:39:13 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2010-12-23 13:39:13 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2010-12-23 13:39:13 - INFO: Migrating to CreateHistories (20081229214209)
2010-12-23 13:39:13 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2010-12-23 13:39:13 - INFO: Migrating to AddArticleTitle (20090303222502)
2010-12-23 13:39:13 - INFO: Migrating to AddIndices (20090311212528)
2010-12-23 13:39:13 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2010-12-23 13:39:13 - INFO: Migrating to AddNameToSource (20090318213801)
2010-12-23 13:39:13 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2010-12-23 13:39:13 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2010-12-23 13:39:13 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2010-12-23 13:39:13 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2010-12-23 13:39:13 - INFO: Migrating to AddTimeout (20091207225429)
2010-12-23 13:39:13 - INFO: Migrating to AddGroups (20100408211121)
2010-12-23 13:39:13 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2010-12-23 13:39:13 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2010-12-23 13:39:13 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2010-12-23 13:39:13 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2010-12-23 13:39:13 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `articles`[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (80.9ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `citations`[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (183.2ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `groups`[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2010-12-23 13:39:13 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-23 13:39:13 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `histories`[0m
2010-12-23 13:39:14 - DEBUG:   [4;36;1mSQL (131.3ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2010-12-23 13:39:14 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-23 13:39:14 - DEBUG:   [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `retrievals`[0m
2010-12-23 13:39:14 - DEBUG:   [4;35;1mSQL (5.2ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2010-12-23 13:39:14 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-23 13:39:14 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `sources`[0m
2010-12-23 13:39:14 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2010-12-23 13:39:14 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2010-12-23 13:39:14 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `users`[0m
2010-12-23 13:39:14 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
2010-12-23 13:47:37 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-23 13:47:37 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-23 13:47:37 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2010-12-23 13:47:37 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-23 13:47:37 - INFO: Migrating to CreateArticles (20081113233857)
2010-12-23 13:47:37 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2010-12-23 13:47:37 - INFO: Migrating to CreateSources (20081118183235)
2010-12-23 13:47:37 - INFO: Migrating to CreateUsers (20081118185107)
2010-12-23 13:47:37 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2010-12-23 13:47:37 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2010-12-23 13:47:37 - INFO: Migrating to CreateRetrievals (20081124061921)
2010-12-23 13:47:37 - INFO: Migrating to CreateCitations (20081124073438)
2010-12-23 13:47:37 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2010-12-23 13:47:37 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2010-12-23 13:47:37 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2010-12-23 13:47:37 - INFO: Migrating to AddActiveToSources (20081205174929)
2010-12-23 13:47:37 - INFO: Migrating to FixCitationCounting (20081208232023)
2010-12-23 13:47:37 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2010-12-23 13:47:37 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2010-12-23 13:47:37 - INFO: Migrating to CreateHistories (20081229214209)
2010-12-23 13:47:37 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2010-12-23 13:47:37 - INFO: Migrating to AddArticleTitle (20090303222502)
2010-12-23 13:47:37 - INFO: Migrating to AddIndices (20090311212528)
2010-12-23 13:47:37 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2010-12-23 13:47:37 - INFO: Migrating to AddNameToSource (20090318213801)
2010-12-23 13:47:37 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2010-12-23 13:47:37 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2010-12-23 13:47:37 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2010-12-23 13:47:37 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2010-12-23 13:47:37 - INFO: Migrating to AddTimeout (20091207225429)
2010-12-23 13:47:37 - INFO: Migrating to AddGroups (20100408211121)
2010-12-23 13:47:37 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2010-12-23 13:47:37 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2010-12-23 13:47:37 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2010-12-23 13:47:37 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2010-12-23 13:47:37 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-23 13:47:37 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2010-12-23 13:47:37 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-23 13:47:37 - DEBUG:   [4;35;1mSQL (320.4ms)[0m   [0mALTER TABLE `sources` CHANGE `disable_delay` `disable_delay` int(11) DEFAULT 10 NOT NULL[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (57.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101223214158')[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `articles`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (75.6ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `citations`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `citations`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (127.3ms)[0m   [0mSHOW KEYS FROM `citations`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `groups`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `groups`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `histories`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `histories`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (104.4ms)[0m   [0mSHOW KEYS FROM `histories`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `retrievals`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mdescribe `retrievals`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (4.7ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `sources`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `sources`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
2010-12-23 13:47:38 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mdescribe `users`[0m
2010-12-23 13:47:38 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2010-12-29 13:41:10 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 13:41:10 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 13:41:10 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 13:41:10 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 13:41:10 - DEBUG: Updating 1 article
2010-12-29 13:41:10 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 13:41:10 - DEBUG:   [4;35;1mRetrieval Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 13:41:10 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 13:41:10 - DEBUG:   [4;36;1mSource Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 13:41:10 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 13:41:10 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mScopus Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 13:41:11 - DEBUG:   [4;36;1mRetrieval Load (21.7ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 8) LIMIT 1[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 8) [0m
2010-12-29 13:41:11 - DEBUG: Retrieval is #<Retrieval id: 73606, article_id: 5473, source_id: 8, created_at: "2009-03-23 19:56:15", updated_at: "2010-09-20 05:09:35", retrieved_at: "2010-09-20 05:09:35", citations_count: 0, other_citations_count: 28, local_id: nil, running: nil> (lazy=false, stale?=true)
2010-12-29 13:41:11 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 73606) [0m
2010-12-29 13:41:11 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:11', `running` = 1 WHERE `id` = 73606[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mSQL (93.8ms)[0m   [0mCOMMIT[0m
2010-12-29 13:41:11 - INFO: Refreshing source: #<Scopus id: 8, type: "Scopus", url: nil, username: "AMBRA", password: nil, staleness: 604800, created_at: "2009-03-12 00:30:24", updated_at: "2010-06-03 05:25:35", active: true, name: "Scopus", live_mode: true, salt: "Q)M4ha6:G1twpMxGvsnyj=iS0A!qvr!T", searchURL: nil, timeout: 5, group_id: 2, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 13:41:11 - INFO: Asking Scopus about 10.1371/journal.pbio.0000001; last updated 2010-09-19 22:09:35 -0700
2010-12-29 13:41:11 - INFO: Scopus query: http://services.elsevier.com/EWSXAbstractsMetadataWebSvc/XAbstractsMetadataServiceV7
2010-12-29 13:41:11 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
2010-12-29 13:41:11 - [4;31;1mERROR[0m: Unable to query: Validation failed: Partner can't be blank
2010-12-29 13:41:11 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/validations.rb:1102:in `save_without_dirty!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/dirty.rb:87:in `save_without_transactions!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:182:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/home/josowski/Work/alm/head/app/models/source.rb:116:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: Validation failed: Partner can't be blank
2010-12-29 13:41:11 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 13:41:11 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:11', `running` = 0 WHERE `id` = 73606[0m
2010-12-29 13:41:11 - DEBUG:   [4;36;1mSQL (60.6ms)[0m   [0;1mCOMMIT[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mCounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 13:41:11 - DEBUG:   [4;36;1mRetrieval Load (10.6ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 13:41:11 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: nil> (lazy=false, stale?=true)
2010-12-29 13:41:11 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 13:41:11 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:11', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 13:41:11 - DEBUG:   [4;35;1mSQL (67.3ms)[0m   [0mCOMMIT[0m
2010-12-29 13:41:11 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-06-03 05:24:39", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 13:41:11 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 13:41:11 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 13:41:11 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 13:41:11 - DEBUG: Request headers:
2010-12-29 13:41:11 - DEBUG: [accept] = '*/*'
2010-12-29 13:41:11 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 13:41:15 - [4;31;1mERROR[0m: Error (Retriever::RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 21:41:11", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 13:41:15 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:15 - DEBUG:   [4;35;1mSQL (204.9ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 13:41:16 - DEBUG:   [4;36;1mSQL (59.4ms)[0m   [0;1mCOMMIT[0m
2010-12-29 13:41:16 - [4;31;1mERROR[0m: Unable to query: uninitialized constant Source::RetrieverTimeout
2010-12-29 13:41:16 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:105:in `const_missing'
/home/josowski/Work/alm/head/app/models/source.rb:106:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: uninitialized constant Source::RetrieverTimeout
2010-12-29 13:41:16 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 13:41:16 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
2010-12-29 13:41:16 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:16', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 13:41:16 - DEBUG:   [4;35;1mSQL (46.6ms)[0m   [0mCOMMIT[0m
2010-12-29 13:41:16 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 13:41:16 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 41 (0)
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 13:41:43 - DEBUG: Updating 1 article
2010-12-29 13:41:43 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mRetrieval Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 13:41:43 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSource Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mScopus Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 8) LIMIT 1[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 8) [0m
2010-12-29 13:41:43 - DEBUG: Retrieval is #<Retrieval id: 73606, article_id: 5473, source_id: 8, created_at: "2009-03-23 19:56:15", updated_at: "2010-12-29 21:41:11", retrieved_at: "2010-09-20 05:09:35", citations_count: 0, other_citations_count: 28, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mRetrieval Load (0.1ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 73606) [0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:43', `running` = 1 WHERE `id` = 73606[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSQL (112.2ms)[0m   [0mCOMMIT[0m
2010-12-29 13:41:43 - INFO: Refreshing source: #<Scopus id: 8, type: "Scopus", url: nil, username: "AMBRA", password: nil, staleness: 604800, created_at: "2009-03-12 00:30:24", updated_at: "2010-06-03 05:25:35", active: true, name: "Scopus", live_mode: true, salt: "Q)M4ha6:G1twpMxGvsnyj=iS0A!qvr!T", searchURL: nil, timeout: 5, group_id: 2, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 13:41:43 - INFO: Asking Scopus about 10.1371/journal.pbio.0000001; last updated 2010-09-19 22:09:35 -0700
2010-12-29 13:41:43 - INFO: Scopus query: http://services.elsevier.com/EWSXAbstractsMetadataWebSvc/XAbstractsMetadataServiceV7
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
2010-12-29 13:41:43 - [4;31;1mERROR[0m: Unable to query: Validation failed: Partner can't be blank
2010-12-29 13:41:43 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/validations.rb:1102:in `save_without_dirty!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/dirty.rb:87:in `save_without_transactions!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:182:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/home/josowski/Work/alm/head/app/models/source.rb:116:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: Validation failed: Partner can't be blank
2010-12-29 13:41:43 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mRetrieval Update (0.4ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:43', `running` = 0 WHERE `id` = 73606[0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSQL (79.6ms)[0m   [0;1mCOMMIT[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mCounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 13:41:43 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 21:41:16", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 13:41:43 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 13:41:43 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:43', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 13:41:43 - DEBUG:   [4;35;1mSQL (82.0ms)[0m   [0mCOMMIT[0m
2010-12-29 13:41:43 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-06-03 05:24:39", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 13:41:43 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 13:41:43 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 13:41:43 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 13:41:43 - DEBUG: Request headers:
2010-12-29 13:41:43 - DEBUG: [accept] = '*/*'
2010-12-29 13:41:43 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 13:41:48 - [4;31;1mERROR[0m: Error (Retriever::RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 21:41:43", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 13:41:48 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 13:41:48 - DEBUG:   [4;35;1mSQL (63.0ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 13:41:48 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 13:41:48 - [4;31;1mERROR[0m: Unable to query: uninitialized constant Source::RetrieverTimeout
2010-12-29 13:41:48 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:105:in `const_missing'
/home/josowski/Work/alm/head/app/models/source.rb:106:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: uninitialized constant Source::RetrieverTimeout
2010-12-29 13:41:48 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 13:41:48 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 13:41:48 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 21:41:48', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 13:41:48 - DEBUG:   [4;35;1mSQL (74.8ms)[0m   [0mCOMMIT[0m
2010-12-29 13:41:48 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 13:41:48 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 41 (0)
2010-12-29 13:43:03 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 13:43:03 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 13:43:03 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 13:43:03 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 13:43:41 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 13:43:41 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 13:43:41 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 13:43:41 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 13:43:52 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 13:43:52 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 13:43:52 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 13:43:52 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:02:44 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:02:44 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:02:44 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:02:44 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:03:03 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:03:03 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:03:03 - DEBUG: Updating 1 article
2010-12-29 14:03:03 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mRetrieval Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:03:03 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:03:03 - DEBUG:   [4;36;1mSource Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:03:03 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mScopus Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:03:03 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 8) LIMIT 1[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 8) [0m
2010-12-29 14:03:03 - DEBUG: Retrieval is #<Retrieval id: 73606, article_id: 5473, source_id: 8, created_at: "2009-03-23 19:56:15", updated_at: "2010-12-29 21:41:43", retrieved_at: "2010-09-20 05:09:35", citations_count: 0, other_citations_count: 28, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:03:03 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 73606) [0m
2010-12-29 14:03:03 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:03:03', `running` = 1 WHERE `id` = 73606[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mSQL (86.6ms)[0m   [0mCOMMIT[0m
2010-12-29 14:03:03 - INFO: Refreshing source: #<Scopus id: 8, type: "Scopus", url: nil, username: "AMBRA", password: nil, staleness: 604800, created_at: "2009-03-12 00:30:24", updated_at: "2010-06-03 05:25:35", active: true, name: "Scopus", live_mode: true, salt: "Q)M4ha6:G1twpMxGvsnyj=iS0A!qvr!T", searchURL: nil, timeout: 5, group_id: 2, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:03:03 - INFO: Asking Scopus about 10.1371/journal.pbio.0000001; last updated 2010-09-19 22:09:35 -0700
2010-12-29 14:03:03 - INFO: Scopus query: http://services.elsevier.com/EWSXAbstractsMetadataWebSvc/XAbstractsMetadataServiceV7
2010-12-29 14:03:03 - INFO: Scopus had an error. Disabling for 900 seconds.
2010-12-29 14:03:03 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:03:03 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
2010-12-29 14:03:03 - [4;31;1mERROR[0m: Unable to query: Validation failed: Partner can't be blank
2010-12-29 14:03:03 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/validations.rb:1102:in `save_without_dirty!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/dirty.rb:87:in `save_without_transactions!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:182:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/home/josowski/Work/alm/head/app/models/source.rb:116:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: Validation failed: Partner can't be blank
2010-12-29 14:03:03 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:03:03 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:03:04 - DEBUG:   [4;35;1mRetrieval Update (0.4ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:03:03', `running` = 0 WHERE `id` = 73606[0m
2010-12-29 14:03:04 - DEBUG:   [4;36;1mSQL (46.4ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:03:04 - DEBUG:   [4;35;1mCounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:03:04 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:03:04 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:03:04 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 21:41:48", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:03:04 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:03:04 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:03:04 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:03:04', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:03:04 - DEBUG:   [4;35;1mSQL (47.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:03:04 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-06-03 05:24:39", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:03:04 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 14:03:04 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:03:04 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:03:04 - DEBUG: Request headers:
2010-12-29 14:03:04 - DEBUG: [accept] = '*/*'
2010-12-29 14:03:04 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:03:08 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:03:04", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:03:08 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:03:08 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:03:08 - DEBUG:   [4;35;1mSQL (75.7ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:03:08 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:03:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:03:08 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:03:08', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:03:08 - DEBUG:   [4;35;1mSQL (121.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:03:08 - [4;31;1mERROR[0m: Timeout exceeded on article update
/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:05:11 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:05:11 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:05:11 - DEBUG: Updating 1 article
2010-12-29 14:05:11 - DEBUG:   [4;36;1mRetrieval Load (0.6ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mRetrieval Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:05:11 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:05:11 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:05:11 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mScopus Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:11 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 8) LIMIT 1[0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 8) [0m
2010-12-29 14:05:11 - DEBUG: Retrieval is #<Retrieval id: 73606, article_id: 5473, source_id: 8, created_at: "2009-03-23 19:56:15", updated_at: "2010-12-29 22:03:03", retrieved_at: "2010-09-20 05:09:35", citations_count: 0, other_citations_count: 28, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:05:11 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 73606) [0m
2010-12-29 14:05:11 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:11', `running` = 1 WHERE `id` = 73606[0m
2010-12-29 14:05:11 - DEBUG:   [4;35;1mSQL (92.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:11 - INFO: Refreshing source: #<Scopus id: 8, type: "Scopus", url: nil, username: "AMBRA", password: nil, staleness: 604800, created_at: "2009-03-12 00:30:24", updated_at: "2010-06-03 05:25:35", active: true, name: "Scopus", live_mode: true, salt: "Q)M4ha6:G1twpMxGvsnyj=iS0A!qvr!T", searchURL: nil, timeout: 5, group_id: 2, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:05:11 - INFO: Asking Scopus about 10.1371/journal.pbio.0000001; last updated 2010-09-19 22:09:35 -0700
2010-12-29 14:05:11 - INFO: Scopus query: http://services.elsevier.com/EWSXAbstractsMetadataWebSvc/XAbstractsMetadataServiceV7
2010-12-29 14:05:12 - INFO: Scopus had an error. Disabling for 900 seconds.
2010-12-29 14:05:12 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
2010-12-29 14:05:12 - [4;31;1mERROR[0m: Unable to query: Validation failed: Partner can't be blank
2010-12-29 14:05:12 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/validations.rb:1102:in `save_without_dirty!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/dirty.rb:87:in `save_without_transactions!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:182:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/home/josowski/Work/alm/head/app/models/source.rb:116:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: Validation failed: Partner can't be blank
2010-12-29 14:05:12 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:05:12 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mRetrieval Update (0.4ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:12', `running` = 0 WHERE `id` = 73606[0m
2010-12-29 14:05:12 - DEBUG:   [4;36;1mSQL (77.3ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mCounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:12 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:05:12 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:03:08", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:05:12 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:05:12 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:12', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mSQL (67.4ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:12 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-06-03 05:24:39", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:05:12 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 14:05:12 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:05:12 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:05:12 - DEBUG: Request headers:
2010-12-29 14:05:12 - DEBUG: [accept] = '*/*'
2010-12-29 14:05:12 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:05:12 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:05:12", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:05:12 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:05:12 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mSQL (74.2ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:05:12 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:05:12 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:12', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:05:12 - DEBUG:   [4;35;1mSQL (67.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:12 - [4;31;1mERROR[0m: Timeout exceeded on article update
/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:05:27 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:05:27 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:05:27 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:05:27 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:05:27 - DEBUG: Updating 1 article
2010-12-29 14:05:27 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:05:27 - DEBUG:   [4;35;1mRetrieval Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:05:27 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:05:27 - DEBUG:   [4;36;1mSource Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:27 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:05:27 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mScopus Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:28 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 8) LIMIT 1[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 8) [0m
2010-12-29 14:05:28 - DEBUG: Retrieval is #<Retrieval id: 73606, article_id: 5473, source_id: 8, created_at: "2009-03-23 19:56:15", updated_at: "2010-12-29 22:05:12", retrieved_at: "2010-09-20 05:09:35", citations_count: 0, other_citations_count: 28, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:05:28 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 73606) [0m
2010-12-29 14:05:28 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:28', `running` = 1 WHERE `id` = 73606[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mSQL (65.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:28 - INFO: Refreshing source: #<Scopus id: 8, type: "Scopus", url: nil, username: "AMBRA", password: nil, staleness: 604800, created_at: "2009-03-12 00:30:24", updated_at: "2010-06-03 05:25:35", active: true, name: "Scopus", live_mode: true, salt: "Q)M4ha6:G1twpMxGvsnyj=iS0A!qvr!T", searchURL: nil, timeout: 5, group_id: 2, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:05:28 - INFO: Asking Scopus about 10.1371/journal.pbio.0000001; last updated 2010-09-19 22:09:35 -0700
2010-12-29 14:05:28 - INFO: Scopus query: http://services.elsevier.com/EWSXAbstractsMetadataWebSvc/XAbstractsMetadataServiceV7
2010-12-29 14:05:28 - INFO: Scopus had an error. Disabling for 900 seconds.
2010-12-29 14:05:28 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
2010-12-29 14:05:28 - [4;31;1mERROR[0m: Unable to query: Validation failed: Partner can't be blank
2010-12-29 14:05:28 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/validations.rb:1102:in `save_without_dirty!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/dirty.rb:87:in `save_without_transactions!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:182:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/home/josowski/Work/alm/head/app/models/source.rb:116:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: Validation failed: Partner can't be blank
2010-12-29 14:05:28 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:05:28 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mRetrieval Update (0.4ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:28', `running` = 0 WHERE `id` = 73606[0m
2010-12-29 14:05:28 - DEBUG:   [4;36;1mSQL (55.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mCounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:28 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:05:28 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:05:12", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:05:28 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:05:28 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:28', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:05:28 - DEBUG:   [4;35;1mSQL (52.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:28 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-06-03 05:24:39", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:05:28 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 14:05:28 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:05:28 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:05:28 - DEBUG: Request headers:
2010-12-29 14:05:28 - DEBUG: [accept] = '*/*'
2010-12-29 14:05:28 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:05:33 - [4;31;1mERROR[0m: Error (Timeout::Error: time's up!) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:05:28", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: time's up!
2010-12-29 14:05:33 - INFO: Counter had an error. Disabling for 900 seconds.
2010-12-29 14:05:33 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:33 - DEBUG:   [4;35;1mCounter Update (0.4ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 1800, `updated_at` = '2010-12-29 22:05:33', `disable_until` = '2010-12-29 22:20:33' WHERE `id` = 9[0m
2010-12-29 14:05:33 - DEBUG:   [4;36;1mSQL (70.8ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:05:33 - DEBUG:   [4;35;1mSQL (70.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:33 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:05:33 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:33 - DEBUG:   [4;35;1mRetrieval Update (0.1ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:33', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:05:33 - DEBUG:   [4;36;1mSQL (56.3ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:33 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:05:33 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 41 (0)
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mArticle Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:05:43 - DEBUG: Updating 1 article
2010-12-29 14:05:43 - DEBUG:   [4;36;1mRetrieval Load (0.6ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mRetrieval Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:05:43 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSource Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSource Load (0.5ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mScopus Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 8) LIMIT 1[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSource Load (0.3ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 8) [0m
2010-12-29 14:05:43 - DEBUG: Retrieval is #<Retrieval id: 73606, article_id: 5473, source_id: 8, created_at: "2009-03-23 19:56:15", updated_at: "2010-12-29 22:05:28", retrieved_at: "2010-09-20 05:09:35", citations_count: 0, other_citations_count: 28, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mRetrieval Load (0.1ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 73606) [0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:43', `running` = 1 WHERE `id` = 73606[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSQL (91.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:43 - INFO: Refreshing source: #<Scopus id: 8, type: "Scopus", url: nil, username: "AMBRA", password: nil, staleness: 604800, created_at: "2009-03-12 00:30:24", updated_at: "2010-06-03 05:25:35", active: true, name: "Scopus", live_mode: true, salt: "Q)M4ha6:G1twpMxGvsnyj=iS0A!qvr!T", searchURL: nil, timeout: 5, group_id: 2, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:05:43 - INFO: Asking Scopus about 10.1371/journal.pbio.0000001; last updated 2010-09-19 22:09:35 -0700
2010-12-29 14:05:43 - INFO: Scopus query: http://services.elsevier.com/EWSXAbstractsMetadataWebSvc/XAbstractsMetadataServiceV7
2010-12-29 14:05:43 - INFO: Scopus had an error. Disabling for 900 seconds.
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
2010-12-29 14:05:43 - [4;31;1mERROR[0m: Unable to query: Validation failed: Partner can't be blank
2010-12-29 14:05:43 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/validations.rb:1102:in `save_without_dirty!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/dirty.rb:87:in `save_without_transactions!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:182:in `transaction'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/transactions.rb:200:in `save!'
/home/josowski/Work/alm/head/app/models/source.rb:116:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: Validation failed: Partner can't be blank
2010-12-29 14:05:43 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mRetrieval Update (0.5ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:43', `running` = 0 WHERE `id` = 73606[0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (62.4ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mCounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSource Load (0.3ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:05:43 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:05:33", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:05:43 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:43', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:05:43 - DEBUG:   [4;35;1mSQL (57.1ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:43 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: "2010-12-29 22:20:33", disable_delay: 1800, partner_id: nil>
2010-12-29 14:05:43 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 14:05:43 - INFO: Counter is disabled until 2010-12-29 14:20:33 -0800. Skipping.
2010-12-29 14:05:43 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:05:44 - DEBUG:   [4;35;1mSQL (70.6ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:05:44 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:44 - INFO: Skipping disabled source.
2010-12-29 14:05:44 - DEBUG: Citation count: 1
2010-12-29 14:05:44 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:05:44 - DEBUG:   [4;36;1mCitation Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-29 14:05:44 - DEBUG:   [4;35;1mSQL (37.1ms)[0m   [0mSELECT count(*) AS count_all FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:05:44 - DEBUG:   [4;36;1mRetrieval UPDATE (50.5ms)[0m   [0;1mUPDATE `retrievals` SET `citations_count` = 1 WHERE `id` = 127125[0m
2010-12-29 14:05:44 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:05:44 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:05:44 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:05:44 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:05:44 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:05:44', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:05:44 - DEBUG:   [4;35;1mSQL (46.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:05:44 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:05:44 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 41 (0)
2010-12-29 14:07:48 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:07:48 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:07:48 - DEBUG: Updating 1 article
2010-12-29 14:07:48 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mRetrieval Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:07:48 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:07:48 - DEBUG:   [4;36;1mSource Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:07:48 - DEBUG:   [4;36;1mSource Load (0.3ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mCounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:07:48 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mSource Load (0.4ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:07:48 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:05:44", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:07:48 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:07:48 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:07:48', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:07:48 - DEBUG:   [4;35;1mSQL (82.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:07:48 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:07:48 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 14:07:48 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:07:48 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:07:48 - DEBUG: Request headers:
2010-12-29 14:07:48 - DEBUG: [accept] = '*/*'
2010-12-29 14:07:48 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:07:49 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:07:48", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:07:49 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:07:49 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:07:49 - DEBUG:   [4;35;1mSQL (74.1ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:07:49 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:07:49 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:07:49 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:07:49', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:07:49 - DEBUG:   [4;35;1mSQL (60.4ms)[0m   [0mCOMMIT[0m
2010-12-29 14:07:49 - [4;31;1mERROR[0m: Timeout exceeded on article update
/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:12:04 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:12:04 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:12:04 - DEBUG:   [4;36;1mArticle Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:12:04 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:12:04 - DEBUG: Updating 1 article
2010-12-29 14:12:04 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:12:04 - DEBUG:   [4;35;1mRetrieval Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:12:04 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:12:04 - DEBUG:   [4;36;1mSource Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:12:04 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:12:04 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:12:05 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:12:05 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:12:05 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:12:05 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:07:49", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=true)
2010-12-29 14:12:05 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:12:05 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:12:05 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:12:05', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:12:05 - DEBUG:   [4;35;1mSQL (96.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:12:05 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:12:05 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-09-20 06:33:04 -0700
2010-12-29 14:12:05 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:12:05 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:12:05 - DEBUG: Request headers:
2010-12-29 14:12:05 - DEBUG: [accept] = '*/*'
2010-12-29 14:12:05 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:12:05 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:12:05", retrieved_at: "2010-09-20 13:33:04", citations_count: 1, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:12:05 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:12:05 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mSQL (71.1ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:12:06 - INFO: Got 1 citation details.
2010-12-29 14:12:06 - DEBUG: (after filtering out 80 duplicates!)
2010-12-29 14:12:06 - DEBUG: Existing citation count: 1
2010-12-29 14:12:06 - DEBUG:   [4;35;1mCitation Load (13.6ms)[0m   [0mSELECT * FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mCitation Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-29 14:12:06 - DEBUG: After existing citations uniquified: 1
2010-12-29 14:12:06 - INFO: Creating citation 
2010-12-29 14:12:06 - [4;31;1mERROR[0m: Unable to create "2010-12-29 14:12:05 - INFO: Forced Timeout on query.  Not disabling this source.\n": undefined method `symbolize_keys' for #<String:0xb5834090>
2010-12-29 14:12:06 - DEBUG: Deleting remaining existing citations: 1
2010-12-29 14:12:06 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mRetrieval Update (12.3ms)[0m   [0mUPDATE `retrievals` SET `citations_count` = COALESCE(`citations_count`, 0) - 1 WHERE (`id` = 127125) [0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mCitation Destroy (0.6ms)[0m   [0;1mDELETE FROM `citations` WHERE `id` = 3857561[0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mSQL (66.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:12:06 - DEBUG: Citation count: 1
2010-12-29 14:12:06 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mRetrieval UPDATE (55.9ms)[0m   [0;1mUPDATE `retrievals` SET `citations_count` = 0 WHERE `id` = 127125[0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:12:06', `retrieved_at` = '2010-12-29 22:12:06' WHERE `id` = 127125[0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mSQL (54.6ms)[0m   [0mCOMMIT[0m
2010-12-29 14:12:06 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:12:06 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:12:06 - DEBUG:   [4;35;1mRetrieval Update (0.2ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:12:06', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:12:06 - DEBUG:   [4;36;1mSQL (54.7ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:12:06 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:12:06 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 41 (0)
2010-12-29 14:14:38 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:14:38 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:14:38 - DEBUG: Updating 1 article
2010-12-29 14:14:38 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mRetrieval Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:14:38 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:14:38 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:14:38 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mCounter Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:14:38 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:14:38 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:12:06", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:14:38 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:14:38 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:14:38 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:14:38', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:14:39 - DEBUG:   [4;35;1mSQL (105.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:14:39 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:14:39 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:14:39 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:14:39 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:14:39 - DEBUG: Request headers:
2010-12-29 14:14:39 - DEBUG: [accept] = '*/*'
2010-12-29 14:14:39 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:14:39 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:14:38", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:14:39 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:14:39 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:14:39 - DEBUG:   [4;35;1mSQL (72.9ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:14:39 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:14:39 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:14:39 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:14:39', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:14:40 - DEBUG:   [4;35;1mSQL (67.6ms)[0m   [0mCOMMIT[0m
2010-12-29 14:14:40 - [4;31;1mERROR[0m: Timeout exceeded on article update
/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:15:51 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:15:51 - DEBUG:   [4;36;1mArticle Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:15:51 - DEBUG: Updating 1 article
2010-12-29 14:15:51 - DEBUG:   [4;36;1mRetrieval Load (0.6ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mRetrieval Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:15:51 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:15:51 - DEBUG:   [4;36;1mSource Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:15:51 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mCounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:15:51 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mSource Load (0.3ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:15:51 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:14:39", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:15:51 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:15:51 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:15:51', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:15:51 - DEBUG:   [4;35;1mSQL (79.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:15:51 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:15:51 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:15:51 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:15:51 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:15:51 - DEBUG: Request headers:
2010-12-29 14:15:51 - DEBUG: [accept] = '*/*'
2010-12-29 14:15:51 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:15:52 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:15:51", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:15:52 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:15:52 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:15:52 - DEBUG:   [4;35;1mSQL (74.5ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:15:52 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:15:52 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:15:52 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:15:52', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:15:52 - DEBUG:   [4;35;1mSQL (97.4ms)[0m   [0mCOMMIT[0m
2010-12-29 14:15:52 - [4;31;1mERROR[0m: Timeout exceeded on article update
/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:16:22 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:16:22 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:16:22 - DEBUG: Updating 1 article
2010-12-29 14:16:22 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mRetrieval Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:16:22 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:16:22 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:16:22 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:16:22 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:16:22 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:15:52", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:16:22 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mRetrieval Load (0.1ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:16:22 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:16:22', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:16:22 - DEBUG:   [4;35;1mSQL (107.0ms)[0m   [0mCOMMIT[0m
2010-12-29 14:16:22 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:16:22 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:16:22 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:16:22 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:16:22 - DEBUG: Request headers:
2010-12-29 14:16:22 - DEBUG: [accept] = '*/*'
2010-12-29 14:16:22 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:16:23 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:16:22", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:16:23 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:16:23 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:16:23 - DEBUG:   [4;35;1mSQL (78.3ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:16:23 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:16:23 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:16:23 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:16:23', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:16:23 - DEBUG:   [4;35;1mSQL (66.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:16:23 - [4;31;1mERROR[0m: Timeout exceeded on article update
: execution expired
2010-12-29 14:16:35 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:16:35 - DEBUG:   [4;36;1mArticle Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:16:35 - DEBUG: Updating 1 article
2010-12-29 14:16:35 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mRetrieval Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:16:35 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:16:35 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:16:35 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:16:35 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:16:35 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:16:23", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:16:35 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:16:35 - DEBUG:   [4;35;1mRetrieval Load (0.1ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:16:35 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:16:35', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:16:36 - DEBUG:   [4;35;1mSQL (134.4ms)[0m   [0mCOMMIT[0m
2010-12-29 14:16:36 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:16:36 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:16:36 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:16:36 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:16:36 - DEBUG: Request headers:
2010-12-29 14:16:36 - DEBUG: [accept] = '*/*'
2010-12-29 14:16:36 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:16:36 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:16:35", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:16:36 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:16:36 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:16:36 - DEBUG:   [4;35;1mSQL (73.1ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:16:36 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:16:36 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:16:36 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:16:36', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:16:36 - DEBUG:   [4;35;1mSQL (67.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:16:36 - [4;31;1mERROR[0m: Timeout exceeded on article update: execution expired
2010-12-29 14:20:31 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:20:31 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:20:31 - DEBUG: Updating 1 article
2010-12-29 14:20:31 - DEBUG:   [4;36;1mRetrieval Load (0.6ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mRetrieval Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:20:31 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:20:31 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:20:31 - DEBUG:   [4;36;1mSource Load (0.0ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:20:31 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:20:31 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:16:36", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:20:31 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:20:31 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:20:31', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:20:31 - DEBUG:   [4;35;1mSQL (80.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:20:31 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:05:33", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:20:31 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:20:31 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:20:31 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:20:31 - DEBUG: Request headers:
2010-12-29 14:20:31 - DEBUG: [accept] = '*/*'
2010-12-29 14:20:31 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:20:36 - [4;31;1mERROR[0m: Error (Timeout::Error: time's up!) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:20:31", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: time's up!
2010-12-29 14:20:36 - INFO: Counter had an error. Disabling for 900 seconds.
2010-12-29 14:20:36 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:20:36 - DEBUG:   [4;35;1mCounter Update (0.5ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 1800, `updated_at` = '2010-12-29 22:20:36', `disable_until` = '2010-12-29 22:35:36' WHERE `id` = 9[0m
2010-12-29 14:20:36 - DEBUG:   [4;36;1mSQL (74.0ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:20:36 - DEBUG:   [4;35;1mSQL (46.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:20:36 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:20:36 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:20:36 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:20:36', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:20:36 - DEBUG:   [4;36;1mSQL (47.7ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:20:36 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:20:36 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:20:56 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:20:56 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:20:56 - DEBUG: Updating 1 article
2010-12-29 14:20:56 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mRetrieval Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:20:56 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:20:56 - DEBUG:   [4;36;1mSource Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:20:56 - DEBUG:   [4;36;1mSource Load (0.4ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mCounter Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:20:56 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:20:56 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:20:36", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:20:56 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:20:56 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:20:56', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:20:56 - DEBUG:   [4;35;1mSQL (72.6ms)[0m   [0mCOMMIT[0m
2010-12-29 14:20:56 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:20:36", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 5, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:20:56 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:20:56 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:20:56 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 5)
2010-12-29 14:20:56 - DEBUG: Request headers:
2010-12-29 14:20:56 - DEBUG: [accept] = '*/*'
2010-12-29 14:20:56 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:21:01 - [4;31;1mERROR[0m: Error (Timeout::Error: time's up!) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>5, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:20:56", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: time's up!
2010-12-29 14:21:01 - INFO: Counter had an error. Disabling for 900 seconds.
2010-12-29 14:21:01 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:21:01 - DEBUG:   [4;35;1mCounter Update (0.5ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 1800, `updated_at` = '2010-12-29 22:21:01', `disable_until` = '2010-12-29 22:36:01' WHERE `id` = 9[0m
2010-12-29 14:21:01 - DEBUG:   [4;36;1mSQL (73.0ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:21:01 - DEBUG:   [4;35;1mSQL (88.8ms)[0m   [0mCOMMIT[0m
2010-12-29 14:21:01 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:21:01 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:21:01 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:21:01', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:21:02 - DEBUG:   [4;36;1mSQL (82.5ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:21:02 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:21:02 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:22:53 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:22:53 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:22:53 - DEBUG: Updating 1 article
2010-12-29 14:22:53 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mRetrieval Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:22:53 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-09-20 13:33:04", retrieved_at: "2010-09-20 13:33:04", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:22:53 - DEBUG:   [4;36;1mSource Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:22:53 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mCounter Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:22:53 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:22:53 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:21:01", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:22:53 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:22:53 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:22:53', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:22:53 - DEBUG:   [4;35;1mSQL (96.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:22:53 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:21:01", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:22:53 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:12:06 -0800
2010-12-29 14:22:53 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:22:53 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:22:53 - DEBUG: Request headers:
2010-12-29 14:22:53 - DEBUG: [accept] = '*/*'
2010-12-29 14:22:53 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:23:08 - INFO: Requested http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:22:53", retrieved_at: "2010-12-29 22:12:06", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}, got: <?xml version="1.0" encoding="utf-8"?>
<rest generator="xml_writer" version="1.0"><status>success</status><response><criteria><year>all</year><month>all</month><journal>all</journal><doi>all</doi></criteria><results><biodiversity><get-document>9231</get-document><total>9231</total></biodiversity><biology><get-document>12355010</get-document><total>15105388</total><get-pdf>2621272</get-pdf><get-xml>129106</get-xml></biology><clinicaltrials><get-document>172005</get-document><total>203389</total><get-pdf>29612</get-pdf><get-xml>1772</get-xml></clinicaltrials><compbiol><get-document>3995171</get-document><total>5082151</total><get-pdf>1043406</get-pdf><get-xml>43574</get-xml></compbiol><genetics><get-document>4228428</get-document><total>5484381</total><get-pdf>1212054</get-pdf><get-xml>43899</get-xml></genetics><medicine><get-document>8807581</get-document><total>10678384</total><get-pdf>1787829</get-pdf><get-xml>82974</get-xml></medicine><ntd><get-document>927099</get-document><total>1128258</total><get-pdf>186425</get-pdf><get-xml>14734</get-xml></ntd><one><get-document>20508980</get-document><total>25238280</total><get-pdf>4177337</get-pdf><get-xml>551963</get-xml></one><pathogens><get-document>2928883</get-document><total>3837890</total><get-pdf>874014</get-pdf><get-xml>34993</get-xml></pathogens><all_journals><total>66767352</total></all_journals></results></response></rest>
2010-12-29 14:23:08 - DEBUG: Response headers:
2010-12-29 14:23:08 - DEBUG: [x-powered-by] = 'PHP/5.1.6']
2010-12-29 14:23:08 - DEBUG: [last-modified] = 'Wed, 29 Dec 2010 22:23:01 GMT']
2010-12-29 14:23:08 - DEBUG: [expires] = 'Sun, 19 Nov 1978 05:00:00 GMT']
2010-12-29 14:23:08 - DEBUG: [content-type] = 'text/xml']
2010-12-29 14:23:08 - DEBUG: [connection] = 'close']
2010-12-29 14:23:08 - DEBUG: [server] = 'Apache/2.0.52 (CentOS)']
2010-12-29 14:23:08 - DEBUG: [date] = 'Wed, 29 Dec 2010 22:23:01 GMT']
2010-12-29 14:23:08 - DEBUG: [content-length] = '1401']
2010-12-29 14:23:08 - DEBUG: [set-cookie] = 'SESSe0e030a9f1159c52333478ef6a3cc2c9=vk2mputdidq4uscpv8cev1nuv6; expires=Sat, 22 Jan 2011 01:56:21 GMT; path=/; domain=.plosreports.org']
2010-12-29 14:23:08 - DEBUG: [cache-control] = 'store, no-cache, must-revalidate, post-check=0, pre-check=0']
2010-12-29 14:23:08 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:23:08 - DEBUG:   [4;35;1mCounter Update (0.5ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 10, `updated_at` = '2010-12-29 22:23:08' WHERE `id` = 9[0m
2010-12-29 14:23:08 - DEBUG:   [4;36;1mSQL (68.4ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mSQL (68.0ms)[0m   [0mCOMMIT[0m
2010-12-29 14:23:09 - INFO: Got 0 citation details.
2010-12-29 14:23:09 - DEBUG: (after filtering out 0 duplicates!)
2010-12-29 14:23:09 - DEBUG: Existing citation count: 0
2010-12-29 14:23:09 - DEBUG: After existing citations uniquified: 0
2010-12-29 14:23:09 - DEBUG: Deleting remaining existing citations: 0
2010-12-29 14:23:09 - DEBUG: Citation count: 0
2010-12-29 14:23:09 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mCitation Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `citations`[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mRetrieval UPDATE (58.0ms)[0m   [0mUPDATE `retrievals` SET `citations_count` = 0 WHERE `id` = 127125[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:23:09', `retrieved_at` = '2010-12-29 22:23:09' WHERE `id` = 127125[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (55.5ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mHistory Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mHistory Load (33.3ms)[0m   [0mSELECT * FROM `histories` WHERE (`histories`.`month` = 12 AND `histories`.`year` = 2010) AND (`histories`.retrieval_id = 127125) LIMIT 1[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mHistory Create (15.8ms)[0m   [0mINSERT INTO `histories` (`created_at`, `month`, `updated_at`, `year`, `retrieval_id`, `citations_count`) VALUES('2010-12-29 22:23:09', 12, '2010-12-29 22:23:09', 2010, 127125, 0)[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (53.4ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:23:09 - INFO: Saved history[2238155: 2010, 12] = 0
2010-12-29 14:23:09 - INFO: result=true, sources_count incremented: 1
2010-12-29 14:23:09 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:23:09', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mSQL (46.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mArticle Load (66.3ms)[0m   [0mSELECT `articles`.id FROM `articles` WHERE (`articles`.`doi` = BINARY '10.1371/journal.pbio.0000001' AND `articles`.id <> 5473) LIMIT 1[0m
2010-12-29 14:23:09 - DEBUG:   [4;36;1mArticle Update (0.2ms)[0m   [0;1mUPDATE `articles` SET `updated_at` = '2010-12-29 22:23:09', `retrieved_at` = '2010-12-29 22:23:09' WHERE `id` = 5473[0m
2010-12-29 14:23:09 - DEBUG:   [4;35;1mSQL (61.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:23:09 - INFO: Refreshed article 10.1371/journal.pbio.0000001
2010-12-29 14:23:09 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:23:40 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:23:40 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mArticle Load (0.4ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:23:40 - DEBUG: Updating 1 article
2010-12-29 14:23:40 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mRetrieval Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:23:40 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:23:09", retrieved_at: "2010-12-29 22:23:09", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:23:40 - DEBUG:   [4;36;1mSource Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:23:40 - DEBUG:   [4;36;1mSource Load (0.3ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mCounter Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:23:40 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mSource Load (0.4ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:23:40 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:23:09", retrieved_at: "2010-12-29 22:23:09", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:23:40 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mRetrieval Load (0.4ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:23:40 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:23:40', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:23:40 - DEBUG:   [4;35;1mSQL (113.1ms)[0m   [0mCOMMIT[0m
2010-12-29 14:23:40 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:23:08", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: nil, disable_delay: 10, partner_id: nil>
2010-12-29 14:23:40 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:23:09 -0800
2010-12-29 14:23:40 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:23:40 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:23:40 - DEBUG: Request headers:
2010-12-29 14:23:40 - DEBUG: [accept] = '*/*'
2010-12-29 14:23:40 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:23:45 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:23:40", retrieved_at: "2010-12-29 22:23:09", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:23:45 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:23:45 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:23:45 - DEBUG:   [4;35;1mSQL (71.5ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:23:45 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:23:45 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:23:45 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:23:45', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:23:45 - DEBUG:   [4;35;1mSQL (83.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:23:45 - [4;31;1mERROR[0m: Timeout exceeded on article update
/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:200:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:198:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:189:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:24:15 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:24:15 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:24:15 - DEBUG: Updating 1 article
2010-12-29 14:24:15 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mRetrieval Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:24:15 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:23:09", retrieved_at: "2010-12-29 22:23:09", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:24:15 - DEBUG:   [4;36;1mSource Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:24:15 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mCounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:24:15 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:24:15 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:23:45", retrieved_at: "2010-12-29 22:23:09", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:24:15 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:24:15 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:24:15', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:24:15 - DEBUG:   [4;35;1mSQL (83.0ms)[0m   [0mCOMMIT[0m
2010-12-29 14:24:15 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:23:08", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 1, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:24:15 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:23:09 -0800
2010-12-29 14:24:15 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:24:15 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 1)
2010-12-29 14:24:15 - DEBUG: Request headers:
2010-12-29 14:24:15 - DEBUG: [accept] = '*/*'
2010-12-29 14:24:15 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:24:16 - [4;31;1mERROR[0m: Error (Timeout::Error: time's up!) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>1, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:24:15", retrieved_at: "2010-12-29 22:23:09", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: time's up!
2010-12-29 14:24:16 - INFO: Counter had an error. Disabling for 900 seconds.
2010-12-29 14:24:16 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:16 - DEBUG:   [4;35;1mCounter Update (0.4ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 1800, `updated_at` = '2010-12-29 22:24:16', `disable_until` = '2010-12-29 22:39:16' WHERE `id` = 9[0m
2010-12-29 14:24:16 - DEBUG:   [4;36;1mSQL (73.0ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:24:16 - DEBUG:   [4;35;1mSQL (57.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:24:16 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:23:09", retrieved_at: "2010-12-29 22:23:09", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:24:16 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:16 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:24:16', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:24:16 - DEBUG:   [4;36;1mSQL (70.7ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:24:16 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:24:16 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:24:29 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:24:29 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:24:29 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:24:29 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:24:30 - DEBUG: Updating 1 article
2010-12-29 14:24:30 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:24:30 - DEBUG:   [4;35;1mRetrieval Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:24:30 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:23:09", retrieved_at: "2010-12-29 22:23:09", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:24:30 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:24:30 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:24:30 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:24:30 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:24:30 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:24:30 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:24:30 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:24:16", retrieved_at: "2010-12-29 22:23:09", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:24:30 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:30 - DEBUG:   [4;35;1mRetrieval Load (0.1ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:24:30 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:24:30', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:24:30 - DEBUG:   [4;35;1mSQL (93.4ms)[0m   [0mCOMMIT[0m
2010-12-29 14:24:30 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:24:16", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: nil, disable_delay: 900, partner_id: nil>
2010-12-29 14:24:30 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:23:09 -0800
2010-12-29 14:24:30 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:24:30 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:24:30 - DEBUG: Request headers:
2010-12-29 14:24:30 - DEBUG: [accept] = '*/*'
2010-12-29 14:24:30 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:24:44 - INFO: Requested http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:24:30", retrieved_at: "2010-12-29 22:23:09", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}, got: <?xml version="1.0" encoding="utf-8"?>
<rest generator="xml_writer" version="1.0"><status>success</status><response><criteria><year>all</year><month>all</month><journal>all</journal><doi>all</doi></criteria><results><biodiversity><get-document>9231</get-document><total>9231</total></biodiversity><biology><get-document>12355010</get-document><total>15105388</total><get-pdf>2621272</get-pdf><get-xml>129106</get-xml></biology><clinicaltrials><get-document>172005</get-document><total>203389</total><get-pdf>29612</get-pdf><get-xml>1772</get-xml></clinicaltrials><compbiol><get-document>3995171</get-document><total>5082151</total><get-pdf>1043406</get-pdf><get-xml>43574</get-xml></compbiol><genetics><get-document>4228428</get-document><total>5484381</total><get-pdf>1212054</get-pdf><get-xml>43899</get-xml></genetics><medicine><get-document>8807581</get-document><total>10678384</total><get-pdf>1787829</get-pdf><get-xml>82974</get-xml></medicine><ntd><get-document>927099</get-document><total>1128258</total><get-pdf>186425</get-pdf><get-xml>14734</get-xml></ntd><one><get-document>20508980</get-document><total>25238280</total><get-pdf>4177337</get-pdf><get-xml>551963</get-xml></one><pathogens><get-document>2928883</get-document><total>3837890</total><get-pdf>874014</get-pdf><get-xml>34993</get-xml></pathogens><all_journals><total>66767352</total></all_journals></results></response></rest>
2010-12-29 14:24:44 - DEBUG: Response headers:
2010-12-29 14:24:44 - DEBUG: [x-powered-by] = 'PHP/5.1.6']
2010-12-29 14:24:44 - DEBUG: [last-modified] = 'Wed, 29 Dec 2010 22:24:38 GMT']
2010-12-29 14:24:44 - DEBUG: [expires] = 'Sun, 19 Nov 1978 05:00:00 GMT']
2010-12-29 14:24:44 - DEBUG: [content-type] = 'text/xml']
2010-12-29 14:24:44 - DEBUG: [connection] = 'close']
2010-12-29 14:24:44 - DEBUG: [server] = 'Apache/2.0.52 (CentOS)']
2010-12-29 14:24:44 - DEBUG: [date] = 'Wed, 29 Dec 2010 22:24:38 GMT']
2010-12-29 14:24:44 - DEBUG: [content-length] = '1401']
2010-12-29 14:24:44 - DEBUG: [set-cookie] = 'SESSe0e030a9f1159c52333478ef6a3cc2c9=emgab12ofv02ga4uejuftpf7r0; expires=Sat, 22 Jan 2011 01:57:58 GMT; path=/; domain=.plosreports.org']
2010-12-29 14:24:44 - DEBUG: [cache-control] = 'store, no-cache, must-revalidate, post-check=0, pre-check=0']
2010-12-29 14:24:44 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:44 - DEBUG:   [4;35;1mCounter Update (0.4ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 10, `updated_at` = '2010-12-29 22:24:44' WHERE `id` = 9[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (80.6ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mSQL (89.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:24:45 - INFO: Got 0 citation details.
2010-12-29 14:24:45 - DEBUG: (after filtering out 0 duplicates!)
2010-12-29 14:24:45 - DEBUG: Existing citation count: 0
2010-12-29 14:24:45 - DEBUG: After existing citations uniquified: 0
2010-12-29 14:24:45 - DEBUG: Deleting remaining existing citations: 0
2010-12-29 14:24:45 - DEBUG: Citation count: 0
2010-12-29 14:24:45 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mCitation Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `citations`[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mRetrieval UPDATE (66.7ms)[0m   [0mUPDATE `retrievals` SET `citations_count` = 0 WHERE `id` = 127125[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:24:45', `retrieved_at` = '2010-12-29 22:24:45' WHERE `id` = 127125[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (69.7ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mRetrieval Load (0.4ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mHistory Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mHistory Load (0.4ms)[0m   [0mSELECT * FROM `histories` WHERE (`histories`.`month` = 12 AND `histories`.`year` = 2010) AND (`histories`.retrieval_id = 127125) LIMIT 1[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
2010-12-29 14:24:45 - INFO: Saved history[2238155: 2010, 12] = 0
2010-12-29 14:24:45 - INFO: result=true, sources_count incremented: 1
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:24:45', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (53.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mArticle Load (0.5ms)[0m   [0;1mSELECT `articles`.id FROM `articles` WHERE (`articles`.`doi` = BINARY '10.1371/journal.pbio.0000001' AND `articles`.id <> 5473) LIMIT 1[0m
2010-12-29 14:24:45 - DEBUG:   [4;35;1mArticle Update (0.3ms)[0m   [0mUPDATE `articles` SET `updated_at` = '2010-12-29 22:24:45', `retrieved_at` = '2010-12-29 22:24:45' WHERE `id` = 5473[0m
2010-12-29 14:24:45 - DEBUG:   [4;36;1mSQL (54.8ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:24:45 - INFO: Refreshed article 10.1371/journal.pbio.0000001
2010-12-29 14:24:45 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:30:13 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:30:13 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:30:13 - DEBUG:   [4;36;1mArticle Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:30:13 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:30:13 - DEBUG: Updating 1 article
2010-12-29 14:30:13 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:30:13 - DEBUG:   [4;35;1mRetrieval Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:30:13 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:24:45", retrieved_at: "2010-12-29 22:24:45", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:30:13 - DEBUG:   [4;36;1mSource Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:30:13 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:30:13 - DEBUG:   [4;36;1mSource Load (0.4ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:30:14 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:30:14 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:30:14 - DEBUG:   [4;35;1mSource Load (0.4ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:30:14 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:24:45", retrieved_at: "2010-12-29 22:24:45", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:30:14 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:30:14 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:30:14 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:30:14', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:30:14 - DEBUG:   [4;35;1mSQL (100.0ms)[0m   [0mCOMMIT[0m
2010-12-29 14:30:14 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:24:44", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: nil, disable_delay: 10, partner_id: nil>
2010-12-29 14:30:14 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:24:45 -0800
2010-12-29 14:30:14 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:30:14 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:30:14 - DEBUG: Request headers:
2010-12-29 14:30:14 - DEBUG: [accept] = '*/*'
2010-12-29 14:30:14 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:30:29 - INFO: Requested http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:30:14", retrieved_at: "2010-12-29 22:24:45", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}, got: <?xml version="1.0" encoding="utf-8"?>
<rest generator="xml_writer" version="1.0"><status>success</status><response><criteria><year>all</year><month>all</month><journal>all</journal><doi>all</doi></criteria><results><biodiversity><get-document>9231</get-document><total>9231</total></biodiversity><biology><get-document>12355010</get-document><total>15105388</total><get-pdf>2621272</get-pdf><get-xml>129106</get-xml></biology><clinicaltrials><get-document>172005</get-document><total>203389</total><get-pdf>29612</get-pdf><get-xml>1772</get-xml></clinicaltrials><compbiol><get-document>3995171</get-document><total>5082151</total><get-pdf>1043406</get-pdf><get-xml>43574</get-xml></compbiol><genetics><get-document>4228428</get-document><total>5484381</total><get-pdf>1212054</get-pdf><get-xml>43899</get-xml></genetics><medicine><get-document>8807581</get-document><total>10678384</total><get-pdf>1787829</get-pdf><get-xml>82974</get-xml></medicine><ntd><get-document>927099</get-document><total>1128258</total><get-pdf>186425</get-pdf><get-xml>14734</get-xml></ntd><one><get-document>20508980</get-document><total>25238280</total><get-pdf>4177337</get-pdf><get-xml>551963</get-xml></one><pathogens><get-document>2928883</get-document><total>3837890</total><get-pdf>874014</get-pdf><get-xml>34993</get-xml></pathogens><all_journals><total>66767352</total></all_journals></results></response></rest>
2010-12-29 14:30:29 - DEBUG: Response headers:
2010-12-29 14:30:29 - DEBUG: [x-powered-by] = 'PHP/5.1.6']
2010-12-29 14:30:29 - DEBUG: [last-modified] = 'Wed, 29 Dec 2010 22:30:22 GMT']
2010-12-29 14:30:29 - DEBUG: [expires] = 'Sun, 19 Nov 1978 05:00:00 GMT']
2010-12-29 14:30:29 - DEBUG: [content-type] = 'text/xml']
2010-12-29 14:30:29 - DEBUG: [connection] = 'close']
2010-12-29 14:30:29 - DEBUG: [server] = 'Apache/2.0.52 (CentOS)']
2010-12-29 14:30:29 - DEBUG: [date] = 'Wed, 29 Dec 2010 22:30:22 GMT']
2010-12-29 14:30:29 - DEBUG: [content-length] = '1401']
2010-12-29 14:30:29 - DEBUG: [set-cookie] = 'SESSe0e030a9f1159c52333478ef6a3cc2c9=6ee2pkrq4qfsndph6pbf4b7gq5; expires=Sat, 22 Jan 2011 02:03:42 GMT; path=/; domain=.plosreports.org']
2010-12-29 14:30:29 - DEBUG: [cache-control] = 'store, no-cache, must-revalidate, post-check=0, pre-check=0']
2010-12-29 14:30:29 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (75.8ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:30:29 - INFO: Got 0 citation details.
2010-12-29 14:30:29 - DEBUG: (after filtering out 0 duplicates!)
2010-12-29 14:30:29 - DEBUG: Existing citation count: 0
2010-12-29 14:30:29 - DEBUG: After existing citations uniquified: 0
2010-12-29 14:30:29 - DEBUG: Deleting remaining existing citations: 0
2010-12-29 14:30:29 - DEBUG: Citation count: 0
2010-12-29 14:30:29 - DEBUG:   [4;35;1mRetrieval Load (0.4ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mCitation Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mRetrieval UPDATE (105.5ms)[0m   [0;1mUPDATE `retrievals` SET `citations_count` = 0 WHERE `id` = 127125[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mRetrieval Update (0.3ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:30:29', `retrieved_at` = '2010-12-29 22:30:29' WHERE `id` = 127125[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (53.8ms)[0m   [0mCOMMIT[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mHistory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `histories`[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mHistory Load (0.1ms)[0m   [0;1mSELECT * FROM `histories` WHERE (`histories`.`month` = 12 AND `histories`.`year` = 2010) AND (`histories`.retrieval_id = 127125) LIMIT 1[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:30:29 - INFO: Saved history[2238155: 2010, 12] = 0
2010-12-29 14:30:29 - INFO: result=true, sources_count incremented: 1
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mRetrieval Update (0.1ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:30:29', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (58.8ms)[0m   [0mCOMMIT[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT `articles`.id FROM `articles` WHERE (`articles`.`doi` = BINARY '10.1371/journal.pbio.0000001' AND `articles`.id <> 5473) LIMIT 1[0m
2010-12-29 14:30:29 - DEBUG:   [4;36;1mArticle Update (0.1ms)[0m   [0;1mUPDATE `articles` SET `updated_at` = '2010-12-29 22:30:29', `retrieved_at` = '2010-12-29 22:30:29' WHERE `id` = 5473[0m
2010-12-29 14:30:29 - DEBUG:   [4;35;1mSQL (55.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:30:29 - INFO: Refreshed article 10.1371/journal.pbio.0000001
2010-12-29 14:30:29 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:30:33 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:30:33 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:30:33 - DEBUG: Updating 1 article
2010-12-29 14:30:33 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mRetrieval Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:30:33 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:30:33 - DEBUG:   [4;36;1mSource Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:30:33 - DEBUG:   [4;36;1mSource Load (0.1ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mCounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:30:33 - DEBUG:   [4;36;1mRetrieval Load (0.2ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:30:33 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:30:33 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:30:33 - DEBUG:   [4;36;1mRetrieval Update (0.1ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:30:33', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:30:33 - DEBUG:   [4;35;1mSQL (81.4ms)[0m   [0mCOMMIT[0m
2010-12-29 14:30:33 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:24:44", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: nil, disable_delay: 10, partner_id: nil>
2010-12-29 14:30:33 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:30:29 -0800
2010-12-29 14:30:33 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:30:33 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:30:33 - DEBUG: Request headers:
2010-12-29 14:30:33 - DEBUG: [accept] = '*/*'
2010-12-29 14:30:33 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:30:35 - [4;31;1mERROR[0m: Error (Retriever::RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:30:33", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:30:35 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:30:35 - DEBUG:   [4;35;1mSQL (64.5ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:30:35 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:30:35 - [4;31;1mERROR[0m: Unable to query: uninitialized constant Source::RetrieverTimeout
2010-12-29 14:30:35 - [4;31;1mERROR[0m: /var/lib/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:105:in `const_missing'
/home/josowski/Work/alm/head/app/models/source.rb:106:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:199:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:197:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:197:in `update_articles'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/home/josowski/Work/alm/head/lib/retriever.rb:188:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: uninitialized constant Source::RetrieverTimeout
2010-12-29 14:30:35 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:30:35 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
2010-12-29 14:30:35 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:30:35', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:30:35 - DEBUG:   [4;35;1mSQL (38.1ms)[0m   [0mCOMMIT[0m
2010-12-29 14:30:35 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:30:35 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:31:48 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:31:48 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:31:48 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:31:48 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:32:22 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:32:22 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:32:22 - DEBUG: Updating 1 article
2010-12-29 14:32:22 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mRetrieval Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:32:22 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:32:22 - DEBUG:   [4;36;1mSource Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:32:22 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mCounter Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:32:22 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:32:22 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:30:35", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:32:22 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:32:22 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:32:22', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:32:22 - DEBUG:   [4;35;1mSQL (105.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:32:23 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:24:44", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: nil, disable_delay: 10, partner_id: nil>
2010-12-29 14:32:23 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:30:29 -0800
2010-12-29 14:32:23 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:32:23 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:32:23 - DEBUG: Request headers:
2010-12-29 14:32:23 - DEBUG: [accept] = '*/*'
2010-12-29 14:32:23 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:32:24 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:32:22", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:32:24 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:32:24 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:32:24 - DEBUG:   [4;35;1mSQL (74.1ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:32:24 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:32:24 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:32:24 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:32:24', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:32:24 - DEBUG:   [4;35;1mSQL (82.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:32:24 - [4;31;1mERROR[0m: Timeout exceeded on article update/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:199:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:197:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:197:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:188:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:33:26 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:33:26 - DEBUG:   [4;36;1mArticle Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:33:26 - DEBUG: Updating 1 article
2010-12-29 14:33:26 - DEBUG:   [4;36;1mRetrieval Load (0.5ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mRetrieval Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:33:26 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:33:26 - DEBUG:   [4;36;1mSource Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:33:26 - DEBUG:   [4;36;1mSource Load (0.3ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mCounter Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:33:26 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mSource Load (0.1ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:33:26 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:32:24", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:33:26 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mRetrieval Load (0.1ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:33:26 - DEBUG:   [4;36;1mRetrieval Update (0.1ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:33:26', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:33:26 - DEBUG:   [4;35;1mSQL (91.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:33:26 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:24:44", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 1, group_id: 4, disable_until: nil, disable_delay: 10, partner_id: nil>
2010-12-29 14:33:26 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:30:29 -0800
2010-12-29 14:33:26 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:33:26 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 1)
2010-12-29 14:33:26 - DEBUG: Request headers:
2010-12-29 14:33:26 - DEBUG: [accept] = '*/*'
2010-12-29 14:33:26 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:33:27 - [4;31;1mERROR[0m: Error (Timeout::Error: time's up!) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>1, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:33:26", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: time's up!
2010-12-29 14:33:27 - INFO: Counter had an error. Disabling for 10 seconds.
2010-12-29 14:33:27 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:33:27 - DEBUG:   [4;35;1mCounter Update (0.5ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 20, `updated_at` = '2010-12-29 22:33:27', `disable_until` = '2010-12-29 22:33:37' WHERE `id` = 9[0m
2010-12-29 14:33:27 - DEBUG:   [4;36;1mSQL (70.9ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:33:28 - DEBUG:   [4;35;1mSQL (78.9ms)[0m   [0mCOMMIT[0m
2010-12-29 14:33:28 - [4;31;1mERROR[0m: result=false, error refreshing article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>: 
2010-12-29 14:33:28 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:33:28 - DEBUG:   [4;35;1mRetrieval Update (0.3ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:33:28', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:33:28 - DEBUG:   [4;36;1mSQL (55.3ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:33:28 - INFO: Not refreshing article 10.1371/journal.pbio.0000001 (count: 0, only src: )
2010-12-29 14:33:28 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-29 14:34:00 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:34:00 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:34:00 - DEBUG: Updating 1 article
2010-12-29 14:34:00 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mRetrieval Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:34:00 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:34:00 - DEBUG:   [4;36;1mSource Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:34:00 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mCounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:34:00 - DEBUG:   [4;36;1mRetrieval Load (0.4ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mSource Load (0.4ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:34:00 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:33:28", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:34:00 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mRetrieval Load (0.2ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:34:00 - DEBUG:   [4;36;1mRetrieval Update (0.4ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:34:00', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:34:00 - DEBUG:   [4;35;1mSQL (101.3ms)[0m   [0mCOMMIT[0m
2010-12-29 14:34:00 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:33:27", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: "2010-12-29 22:33:37", disable_delay: 20, partner_id: nil>
2010-12-29 14:34:00 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:30:29 -0800
2010-12-29 14:34:00 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:34:00 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:34:00 - DEBUG: Request headers:
2010-12-29 14:34:00 - DEBUG: [accept] = '*/*'
2010-12-29 14:34:00 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:34:02 - [4;31;1mERROR[0m: Error (RetrieverTimeout: execution expired) while requesting http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:34:00", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}: execution expired
2010-12-29 14:34:02 - INFO: Forced Timeout on query.  Not disabling this source.
2010-12-29 14:34:02 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:02 - DEBUG:   [4;35;1mSQL (71.2ms)[0m   [0m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:34:02 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:34:02 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:34:02 - DEBUG:   [4;36;1mRetrieval Update (0.5ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:34:02', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:34:02 - DEBUG:   [4;35;1mSQL (66.7ms)[0m   [0mCOMMIT[0m
2010-12-29 14:34:02 - [4;31;1mERROR[0m: Timeout exceeded on article update/usr/lib/ruby/1.8/timeout.rb:64:in `rbuf_fill'
/usr/lib/ruby/1.8/timeout.rb:67:in `timeout'
/usr/lib/ruby/1.8/timeout.rb:101:in `timeout'
/usr/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
/usr/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
/usr/lib/ruby/1.8/net/protocol.rb:126:in `readline'
/usr/lib/ruby/1.8/net/http.rb:2028:in `read_status_line'
/usr/lib/ruby/1.8/net/http.rb:2017:in `read_new'
/usr/lib/ruby/1.8/net/http.rb:1051:in `request'
/home/josowski/Work/alm/head/lib/source_helper.rb:85:in `get_http_body'
/usr/lib/ruby/1.8/net/http.rb:543:in `start'
/home/josowski/Work/alm/head/lib/source_helper.rb:84:in `get_http_body'
/var/lib/gems/1.8/gems/system_timer-1.0/lib/system_timer.rb:28:in `timeout_after'
/home/josowski/Work/alm/head/lib/source_helper.rb:83:in `get_http_body'
/home/josowski/Work/alm/head/lib/source_helper.rb:31:in `get_xml'
/home/josowski/Work/alm/head/app/models/sources/counter.rb:32:in `perform_query'
/home/josowski/Work/alm/head/app/models/source.rb:102:in `query'
/home/josowski/Work/alm/head/lib/retriever.rb:91:in `update_one'
/home/josowski/Work/alm/head/lib/retriever.rb:60:in `update'
/home/josowski/Work/alm/head/app/models/retrieval.rb:46:in `try_to_exclusively'
/home/josowski/Work/alm/head/lib/retriever.rb:56:in `update'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `__send__'
/var/lib/gems/1.8/gems/activerecord-2.3.8/lib/active_record/named_scope.rb:109:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:52:in `update'
/home/josowski/Work/alm/head/lib/retriever.rb:199:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:197:in `each'
/home/josowski/Work/alm/head/lib/retriever.rb:197:in `update_articles'
/home/josowski/Work/alm/head/lib/retriever.rb:188:in `update_articles'
/home/josowski/Work/alm/head/lib/tasks/db_update.rake:69
/usr/lib/ruby/1.8/rake.rb:636:in `call'
/usr/lib/ruby/1.8/rake.rb:636:in `execute'
/usr/lib/ruby/1.8/rake.rb:631:in `each'
/usr/lib/ruby/1.8/rake.rb:631:in `execute'
/usr/lib/ruby/1.8/rake.rb:597:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/usr/lib/ruby/1.8/rake.rb:590:in `invoke_with_call_chain'
/usr/lib/ruby/1.8/rake.rb:583:in `invoke'
/usr/lib/ruby/1.8/rake.rb:2051:in `invoke_task'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2029:in `each'
/usr/lib/ruby/1.8/rake.rb:2029:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:2023:in `top_level'
/usr/lib/ruby/1.8/rake.rb:2001:in `run'
/usr/lib/ruby/1.8/rake.rb:2068:in `standard_exception_handling'
/usr/lib/ruby/1.8/rake.rb:1998:in `run'
/usr/bin/rake:28: execution expired
2010-12-29 14:34:30 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-29 14:34:30 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-29 14:34:30 - DEBUG:   [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-29 14:34:30 - DEBUG:   [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1371/journal.pbio.0000001') ORDER BY articles.doi LIMIT 1[0m
2010-12-29 14:34:30 - DEBUG: Updating 1 article
2010-12-29 14:34:30 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.article_id = 5473) [0m
2010-12-29 14:34:30 - DEBUG:   [4;35;1mRetrieval Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-29 14:34:30 - INFO: Updating article #<Article id: 5473, doi: "10.1371/journal.pbio.0000001", created_at: "2009-03-11 23:48:59", updated_at: "2010-12-29 22:30:29", retrieved_at: "2010-12-29 22:30:29", pub_med: "14551903", pub_med_central: "212687", published_on: "2003-10-13", title: "A Functional Analysis of the Spacer of V(D)J Recomb...", citations_count: 41>...
2010-12-29 14:34:30 - DEBUG:   [4;36;1mSource Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:34:30 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:34:30 - DEBUG:   [4;36;1mSource Load (0.2ms)[0m   [0;1mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2010-12-29 14:34:31 - DEBUG:   [4;35;1mCounter Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-29 14:34:31 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`article_id` = 5473 AND `retrievals`.`source_id` = 9) LIMIT 1[0m
2010-12-29 14:34:31 - DEBUG:   [4;35;1mSource Load (0.2ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`id` = 9) [0m
2010-12-29 14:34:31 - DEBUG: Retrieval is #<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:34:02", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: false> (lazy=false, stale?=false)
2010-12-29 14:34:31 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:31 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:34:31 - DEBUG:   [4;36;1mRetrieval Update (0.2ms)[0m   [0;1mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:34:31', `running` = 1 WHERE `id` = 127125[0m
2010-12-29 14:34:31 - DEBUG:   [4;35;1mSQL (73.1ms)[0m   [0mCOMMIT[0m
2010-12-29 14:34:31 - INFO: Refreshing source: #<Counter id: 9, type: "Counter", url: "http://www.plosreports.org/services/rest?method=usa...", username: nil, password: nil, staleness: 86400, created_at: "2009-09-24 01:10:18", updated_at: "2010-12-29 22:33:27", active: true, name: "Counter", live_mode: false, salt: nil, searchURL: nil, timeout: 30, group_id: 4, disable_until: "2010-12-29 22:33:37", disable_delay: 20, partner_id: nil>
2010-12-29 14:34:31 - INFO: Asking Counter about 10.1371/journal.pbio.0000001; last updated 2010-12-29 14:30:29 -0800
2010-12-29 14:34:31 - INFO: Counter query: http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001
2010-12-29 14:34:31 - DEBUG: http request: /services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 (timeout: 30)
2010-12-29 14:34:31 - DEBUG: Request headers:
2010-12-29 14:34:31 - DEBUG: [accept] = '*/*'
2010-12-29 14:34:31 - DEBUG: [user-agent] = 'Article Level Metrics - http://alm.josowski.plos.org'
2010-12-29 14:34:45 - INFO: Requested http://www.plosreports.org/services/rest?method=usage.stats&article=10.1371%2Fjournal.pbio.0000001 with {:timeout=>30, :retrieval=>#<Retrieval id: 127125, article_id: 5473, source_id: 9, created_at: "2009-09-24 18:54:52", updated_at: "2010-12-29 22:34:31", retrieved_at: "2010-12-29 22:30:29", citations_count: 0, other_citations_count: 0, local_id: nil, running: true>}, got: <?xml version="1.0" encoding="utf-8"?>
<rest generator="xml_writer" version="1.0"><status>success</status><response><criteria><year>all</year><month>all</month><journal>all</journal><doi>all</doi></criteria><results><biodiversity><get-document>9231</get-document><total>9231</total></biodiversity><biology><get-document>12355010</get-document><total>15105388</total><get-pdf>2621272</get-pdf><get-xml>129106</get-xml></biology><clinicaltrials><get-document>172005</get-document><total>203389</total><get-pdf>29612</get-pdf><get-xml>1772</get-xml></clinicaltrials><compbiol><get-document>3995171</get-document><total>5082151</total><get-pdf>1043406</get-pdf><get-xml>43574</get-xml></compbiol><genetics><get-document>4228428</get-document><total>5484381</total><get-pdf>1212054</get-pdf><get-xml>43899</get-xml></genetics><medicine><get-document>8807581</get-document><total>10678384</total><get-pdf>1787829</get-pdf><get-xml>82974</get-xml></medicine><ntd><get-document>927099</get-document><total>1128258</total><get-pdf>186425</get-pdf><get-xml>14734</get-xml></ntd><one><get-document>20508980</get-document><total>25238280</total><get-pdf>4177337</get-pdf><get-xml>551963</get-xml></one><pathogens><get-document>2928883</get-document><total>3837890</total><get-pdf>874014</get-pdf><get-xml>34993</get-xml></pathogens><all_journals><total>66767352</total></all_journals></results></response></rest>
2010-12-29 14:34:45 - DEBUG: Response headers:
2010-12-29 14:34:45 - DEBUG: [x-powered-by] = 'PHP/5.1.6']
2010-12-29 14:34:45 - DEBUG: [last-modified] = 'Wed, 29 Dec 2010 22:34:39 GMT']
2010-12-29 14:34:45 - DEBUG: [expires] = 'Sun, 19 Nov 1978 05:00:00 GMT']
2010-12-29 14:34:45 - DEBUG: [content-type] = 'text/xml']
2010-12-29 14:34:45 - DEBUG: [connection] = 'close']
2010-12-29 14:34:45 - DEBUG: [server] = 'Apache/2.0.52 (CentOS)']
2010-12-29 14:34:45 - DEBUG: [date] = 'Wed, 29 Dec 2010 22:34:39 GMT']
2010-12-29 14:34:45 - DEBUG: [content-length] = '1401']
2010-12-29 14:34:45 - DEBUG: [set-cookie] = 'SESSe0e030a9f1159c52333478ef6a3cc2c9=jfthbral4ekv6kq5g2gu3l0d92; expires=Sat, 22 Jan 2011 02:07:59 GMT; path=/; domain=.plosreports.org']
2010-12-29 14:34:45 - DEBUG: [cache-control] = 'store, no-cache, must-revalidate, post-check=0, pre-check=0']
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mCounter Update (0.6ms)[0m   [0mUPDATE `sources` SET `disable_delay` = 10, `updated_at` = '2010-12-29 22:34:45', `disable_until` = NULL WHERE `id` = 9[0m
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (69.0ms)[0m   [0;1m
 INSERT INTO retrievals (article_id, source_id)
 SELECT id, 9 FROM articles
 WHERE id NOT IN
 (SELECT article_id FROM retrievals WHERE source_id = 9)[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mSQL (73.5ms)[0m   [0mCOMMIT[0m
2010-12-29 14:34:45 - INFO: Got 0 citation details.
2010-12-29 14:34:45 - DEBUG: (after filtering out 0 duplicates!)
2010-12-29 14:34:45 - DEBUG: Existing citation count: 0
2010-12-29 14:34:45 - DEBUG: After existing citations uniquified: 0
2010-12-29 14:34:45 - DEBUG: Deleting remaining existing citations: 0
2010-12-29 14:34:45 - DEBUG: Citation count: 0
2010-12-29 14:34:45 - DEBUG:   [4;36;1mRetrieval Load (0.3ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mCitation Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `citations`[0m
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `citations` WHERE (`citations`.retrieval_id = 127125) [0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mRetrieval UPDATE (59.9ms)[0m   [0mUPDATE `retrievals` SET `citations_count` = 0 WHERE `id` = 127125[0m
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mRetrieval Update (0.2ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:34:45', `retrieved_at` = '2010-12-29 22:34:45' WHERE `id` = 127125[0m
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (54.0ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mRetrieval Load (0.3ms)[0m   [0mSELECT * FROM `retrievals` WHERE (`retrievals`.`id` = 127125) [0m
2010-12-29 14:34:45 - DEBUG:   [4;36;1mHistory Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mHistory Load (0.1ms)[0m   [0mSELECT * FROM `histories` WHERE (`histories`.`month` = 12 AND `histories`.`year` = 2010) AND (`histories`.retrieval_id = 127125) LIMIT 1[0m
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
2010-12-29 14:34:45 - INFO: Saved history[2238155: 2010, 12] = 0
2010-12-29 14:34:45 - INFO: result=true, sources_count incremented: 1
2010-12-29 14:34:45 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
2010-12-29 14:34:45 - DEBUG:   [4;35;1mRetrieval Update (0.1ms)[0m   [0mUPDATE `retrievals` SET `updated_at` = '2010-12-29 22:34:45', `running` = 0 WHERE `id` = 127125[0m
2010-12-29 14:34:46 - DEBUG:   [4;36;1mSQL (67.0ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:34:46 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
2010-12-29 14:34:46 - DEBUG:   [4;36;1mArticle Load (0.3ms)[0m   [0;1mSELECT `articles`.id FROM `articles` WHERE (`articles`.`doi` = BINARY '10.1371/journal.pbio.0000001' AND `articles`.id <> 5473) LIMIT 1[0m
2010-12-29 14:34:46 - DEBUG:   [4;35;1mArticle Update (0.2ms)[0m   [0mUPDATE `articles` SET `updated_at` = '2010-12-29 22:34:46', `retrieved_at` = '2010-12-29 22:34:46' WHERE `id` = 5473[0m
2010-12-29 14:34:46 - DEBUG:   [4;36;1mSQL (55.0ms)[0m   [0;1mCOMMIT[0m
2010-12-29 14:34:46 - INFO: Refreshed article 10.1371/journal.pbio.0000001
2010-12-29 14:34:46 - DEBUG: DOI: 10.1371/journal.pbio.0000001 count now 40 (0)
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (151.0ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (16.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:08:48 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (376.0ms)[0m   [0mALTER TABLE `sources` CHANGE `disable_delay` `disable_delay` int(11) DEFAULT 10[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (57.5ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20101223214158'[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mdescribe `articles`[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (84.0ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2010-12-31 10:08:48 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `citations`[0m
2010-12-31 10:08:48 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `citations`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (225.3ms)[0m   [0mSHOW KEYS FROM `citations`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `groups`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `groups`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `histories`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `histories`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (185.1ms)[0m   [0mSHOW KEYS FROM `histories`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (1.9ms)[0m   [0;1mSHOW FIELDS FROM `retrievals`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `retrievals`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (229.2ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `sources`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `sources`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
2010-12-31 10:08:49 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mdescribe `users`[0m
2010-12-31 10:08:49 - DEBUG:   [4;36;1mSQL (9.5ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2010-12-31 10:08:53 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-31 10:08:53 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-31 10:08:53 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:08:53 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:08:53 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:08:53 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:08:53 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-31 10:08:53 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:08:53 - DEBUG:   [4;35;1mSQL (112.4ms)[0m   [0mALTER TABLE `sources` CHANGE `disable_delay` `disable_delay` int DEFAULT 900[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (57.5ms)[0m   [0;1mupdate sources set disable_delay = 900;[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (57.7ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20101217140525'[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `articles`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (62.0ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `citations`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (156.6ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `groups`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `histories`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (107.9ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `retrievals`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (164.2ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mdescribe `sources`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2010-12-31 10:08:54 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `users`[0m
2010-12-31 10:08:54 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
2010-12-31 10:09:02 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-31 10:09:02 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-31 10:09:02 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:09:02 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:09:02 - INFO: Migrating to CreateArticles (20081113233857)
2010-12-31 10:09:02 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2010-12-31 10:09:02 - INFO: Migrating to CreateSources (20081118183235)
2010-12-31 10:09:02 - INFO: Migrating to CreateUsers (20081118185107)
2010-12-31 10:09:02 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2010-12-31 10:09:02 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2010-12-31 10:09:02 - INFO: Migrating to CreateRetrievals (20081124061921)
2010-12-31 10:09:02 - INFO: Migrating to CreateCitations (20081124073438)
2010-12-31 10:09:02 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2010-12-31 10:09:02 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2010-12-31 10:09:02 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2010-12-31 10:09:02 - INFO: Migrating to AddActiveToSources (20081205174929)
2010-12-31 10:09:02 - INFO: Migrating to FixCitationCounting (20081208232023)
2010-12-31 10:09:02 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2010-12-31 10:09:02 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2010-12-31 10:09:02 - INFO: Migrating to CreateHistories (20081229214209)
2010-12-31 10:09:02 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2010-12-31 10:09:02 - INFO: Migrating to AddArticleTitle (20090303222502)
2010-12-31 10:09:02 - INFO: Migrating to AddIndices (20090311212528)
2010-12-31 10:09:02 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2010-12-31 10:09:02 - INFO: Migrating to AddNameToSource (20090318213801)
2010-12-31 10:09:02 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2010-12-31 10:09:02 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2010-12-31 10:09:02 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2010-12-31 10:09:02 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2010-12-31 10:09:02 - INFO: Migrating to AddTimeout (20091207225429)
2010-12-31 10:09:02 - INFO: Migrating to AddGroups (20100408211121)
2010-12-31 10:09:02 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2010-12-31 10:09:02 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2010-12-31 10:09:02 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2010-12-31 10:09:02 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2010-12-31 10:09:02 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-31 10:09:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:09:02 - DEBUG:   [4;35;1mSQL (98.0ms)[0m   [0mALTER TABLE `sources` CHANGE `disable_delay` `disable_delay` int DEFAULT 10[0m
2010-12-31 10:09:02 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mupdate sources set disable_delay = 10;[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (49.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101217140525')[0m
2010-12-31 10:09:03 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (313.4ms)[0m   [0mALTER TABLE `sources` CHANGE `disable_delay` `disable_delay` int(11) DEFAULT 10 NOT NULL[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (49.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101223214158')[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mdescribe `articles`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (34.6ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `citations`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `citations`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (131.7ms)[0m   [0mSHOW KEYS FROM `citations`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `groups`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `groups`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `histories`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `histories`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (127.0ms)[0m   [0mSHOW KEYS FROM `histories`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `retrievals`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `retrievals`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (219.1ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `sources`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `sources`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
2010-12-31 10:09:03 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `users`[0m
2010-12-31 10:09:03 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2010-12-31 10:09:08 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2010-12-31 10:09:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2010-12-31 10:09:08 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:09:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:09:08 - INFO: Migrating to CreateArticles (20081113233857)
2010-12-31 10:09:08 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2010-12-31 10:09:08 - INFO: Migrating to CreateSources (20081118183235)
2010-12-31 10:09:08 - INFO: Migrating to CreateUsers (20081118185107)
2010-12-31 10:09:08 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2010-12-31 10:09:08 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2010-12-31 10:09:08 - INFO: Migrating to CreateRetrievals (20081124061921)
2010-12-31 10:09:08 - INFO: Migrating to CreateCitations (20081124073438)
2010-12-31 10:09:08 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2010-12-31 10:09:08 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2010-12-31 10:09:08 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2010-12-31 10:09:08 - INFO: Migrating to AddActiveToSources (20081205174929)
2010-12-31 10:09:08 - INFO: Migrating to FixCitationCounting (20081208232023)
2010-12-31 10:09:08 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2010-12-31 10:09:08 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2010-12-31 10:09:08 - INFO: Migrating to CreateHistories (20081229214209)
2010-12-31 10:09:08 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2010-12-31 10:09:08 - INFO: Migrating to AddArticleTitle (20090303222502)
2010-12-31 10:09:08 - INFO: Migrating to AddIndices (20090311212528)
2010-12-31 10:09:08 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2010-12-31 10:09:08 - INFO: Migrating to AddNameToSource (20090318213801)
2010-12-31 10:09:08 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2010-12-31 10:09:08 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2010-12-31 10:09:08 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2010-12-31 10:09:08 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2010-12-31 10:09:08 - INFO: Migrating to AddTimeout (20091207225429)
2010-12-31 10:09:08 - INFO: Migrating to AddGroups (20100408211121)
2010-12-31 10:09:08 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2010-12-31 10:09:08 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2010-12-31 10:09:08 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2010-12-31 10:09:08 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2010-12-31 10:09:08 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2010-12-31 10:09:08 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2010-12-31 10:09:08 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:09:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2010-12-31 10:09:08 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2010-12-31 10:09:08 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2010-12-31 10:09:08 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `articles`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (31.2ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mdescribe `citations`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (123.1ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `groups`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mdescribe `histories`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (115.9ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `retrievals`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (151.8ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `sources`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2010-12-31 10:09:09 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `users`[0m
2010-12-31 10:09:09 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
2011-01-05 14:10:20 - DEBUG:   [4;36;1mSQL (20.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-05 14:10:20 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-05 14:10:20 - DEBUG:   [4;36;1mSource Load (31.8ms)[0m   [0;1mSELECT * FROM `sources` [0m
2011-01-05 14:10:20 - DEBUG:   [4;35;1mSource Columns (20.3ms)[0m   [0mSHOW FIELDS FROM `sources`[0m
2011-01-05 14:10:21 - DEBUG:   [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
2011-01-05 14:10:21 - DEBUG:   [4;35;1mArticle Load (29.8ms)[0m   [0mSELECT * FROM `articles` WHERE (`articles`.`doi` = '10.1186/2041-9139-1-10') ORDER BY articles.doi LIMIT 1[0m
2011-01-05 14:10:21 - DEBUG:   [4;36;1mSQL (9.7ms)[0m   [0;1mBEGIN[0m
2011-01-05 14:10:21 - DEBUG:   [4;35;1mArticle Load (51.8ms)[0m   [0mSELECT `articles`.id FROM `articles` WHERE (`articles`.`doi` = BINARY '10.1186/2041-9139-1-10') LIMIT 1[0m
2011-01-05 14:10:21 - DEBUG:   [4;36;1mArticle Create (7.5ms)[0m   [0;1mINSERT INTO `articles` (`created_at`, `retrieved_at`, `pub_med`, `pub_med_central`, `title`, `updated_at`, `doi`, `published_on`, `citations_count`) VALUES('2011-01-05 22:10:21', '1970-01-01 00:00:00', NULL, NULL, 'Genomic insights into Wnt signaling in an early diverging metazoan, the ctenophore Mnemiopsis leidyi', '2011-01-05 22:10:21', '10.1186/2041-9139-1-10', '2010-10-04', 0)[0m
2011-01-05 14:10:21 - DEBUG:   [4;35;1mSource Load (0.4ms)[0m   [0mSELECT * FROM `sources` WHERE (`sources`.`active` = 1) [0m
2011-01-05 14:10:21 - DEBUG:   [4;36;1mCounter Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2011-01-05 14:10:21 - DEBUG:   [4;35;1mRetrieval Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2011-01-05 14:10:21 - DEBUG:   [4;36;1mRetrieval Load (30.8ms)[0m   [0;1mSELECT * FROM `retrievals` WHERE (`retrievals`.`source_id` = 9 AND `retrievals`.`article_id` = 23300) LIMIT 1[0m
2011-01-05 14:10:21 - DEBUG:   [4;35;1mRetrieval Create (30.8ms)[0m   [0mINSERT INTO `retrievals` (`created_at`, `retrieved_at`, `other_citations_count`, `running`, `updated_at`, `article_id`, `local_id`, `source_id`, `citations_count`) VALUES('2011-01-05 22:10:21', '1970-01-01 00:00:00', 0, NULL, '2011-01-05 22:10:21', 23300, NULL, 9, 0)[0m
2011-01-05 14:10:21 - DEBUG:   [4;36;1mSQL (109.8ms)[0m   [0;1mCOMMIT[0m
2011-01-05 15:56:21 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-05 15:56:21 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-05 15:56:21 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-05 15:56:21 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-05 15:56:21 - INFO: Migrating to CreateArticles (20081113233857)
2011-01-05 15:56:21 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2011-01-05 15:56:21 - INFO: Migrating to CreateSources (20081118183235)
2011-01-05 15:56:21 - INFO: Migrating to CreateUsers (20081118185107)
2011-01-05 15:56:21 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2011-01-05 15:56:21 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2011-01-05 15:56:21 - INFO: Migrating to CreateRetrievals (20081124061921)
2011-01-05 15:56:21 - INFO: Migrating to CreateCitations (20081124073438)
2011-01-05 15:56:21 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2011-01-05 15:56:21 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2011-01-05 15:56:21 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2011-01-05 15:56:21 - INFO: Migrating to AddActiveToSources (20081205174929)
2011-01-05 15:56:21 - INFO: Migrating to FixCitationCounting (20081208232023)
2011-01-05 15:56:21 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2011-01-05 15:56:21 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2011-01-05 15:56:21 - INFO: Migrating to CreateHistories (20081229214209)
2011-01-05 15:56:21 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2011-01-05 15:56:21 - INFO: Migrating to AddArticleTitle (20090303222502)
2011-01-05 15:56:21 - INFO: Migrating to AddIndices (20090311212528)
2011-01-05 15:56:21 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2011-01-05 15:56:21 - INFO: Migrating to AddNameToSource (20090318213801)
2011-01-05 15:56:21 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2011-01-05 15:56:21 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2011-01-05 15:56:21 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2011-01-05 15:56:21 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2011-01-05 15:56:21 - INFO: Migrating to AddTimeout (20091207225429)
2011-01-05 15:56:21 - INFO: Migrating to AddGroups (20100408211121)
2011-01-05 15:56:21 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2011-01-05 15:56:21 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2011-01-05 15:56:21 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2011-01-05 15:56:21 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2011-01-05 15:56:21 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2011-01-05 15:56:21 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2011-01-05 15:56:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-05 15:56:21 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-05 15:56:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-05 15:56:21 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2011-01-05 15:56:21 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `articles`[0m
2011-01-05 15:56:21 - DEBUG:   [4;35;1mSQL (1.2ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2011-01-05 15:56:21 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2011-01-05 15:56:21 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `citations`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (230.0ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `groups`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mdescribe `histories`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (178.2ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `retrievals`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (476.1ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `sources`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (8.7ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2011-01-05 15:56:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `users`[0m
2011-01-05 15:56:22 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW KEYS FROM `users`[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-05 15:56:28 - INFO: Migrating to CreateArticles (20081113233857)
2011-01-05 15:56:28 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2011-01-05 15:56:28 - INFO: Migrating to CreateSources (20081118183235)
2011-01-05 15:56:28 - INFO: Migrating to CreateUsers (20081118185107)
2011-01-05 15:56:28 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2011-01-05 15:56:28 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2011-01-05 15:56:28 - INFO: Migrating to CreateRetrievals (20081124061921)
2011-01-05 15:56:28 - INFO: Migrating to CreateCitations (20081124073438)
2011-01-05 15:56:28 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2011-01-05 15:56:28 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2011-01-05 15:56:28 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2011-01-05 15:56:28 - INFO: Migrating to AddActiveToSources (20081205174929)
2011-01-05 15:56:28 - INFO: Migrating to FixCitationCounting (20081208232023)
2011-01-05 15:56:28 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2011-01-05 15:56:28 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2011-01-05 15:56:28 - INFO: Migrating to CreateHistories (20081229214209)
2011-01-05 15:56:28 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2011-01-05 15:56:28 - INFO: Migrating to AddArticleTitle (20090303222502)
2011-01-05 15:56:28 - INFO: Migrating to AddIndices (20090311212528)
2011-01-05 15:56:28 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2011-01-05 15:56:28 - INFO: Migrating to AddNameToSource (20090318213801)
2011-01-05 15:56:28 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2011-01-05 15:56:28 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2011-01-05 15:56:28 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2011-01-05 15:56:28 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2011-01-05 15:56:28 - INFO: Migrating to AddTimeout (20091207225429)
2011-01-05 15:56:28 - INFO: Migrating to AddGroups (20100408211121)
2011-01-05 15:56:28 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2011-01-05 15:56:28 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2011-01-05 15:56:28 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2011-01-05 15:56:28 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2011-01-05 15:56:28 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2011-01-05 15:56:28 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `articles`[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.5ms)[0m   [0mdescribe `citations`[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (141.2ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `groups`[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2011-01-05 15:56:28 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2011-01-05 15:56:28 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `histories`[0m
2011-01-05 15:56:29 - DEBUG:   [4;36;1mSQL (118.0ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-05 15:56:29 - DEBUG:   [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2011-01-05 15:56:29 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `retrievals`[0m
2011-01-05 15:56:29 - DEBUG:   [4;35;1mSQL (196.0ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2011-01-05 15:56:29 - DEBUG:   [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2011-01-05 15:56:29 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mdescribe `sources`[0m
2011-01-05 15:56:29 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-05 15:56:29 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2011-01-05 15:56:29 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `users`[0m
2011-01-05 15:56:29 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
2011-01-13 13:17:36 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:17:36 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:17:36 - DEBUG:   [4;36;1mSQL (64.8ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:17:36 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:18:43 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:18:43 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:18:43 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:18:43 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:19:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:19:09 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:19:09 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:09 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:19:09 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:19:09 - DEBUG:   [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:19:10 - DEBUG:   [4;36;1mSQL (479.2ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 13:19:10 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 13:19:10 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:19:10 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:19:10 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:10 - DEBUG:   [4;35;1mSQL (140.6ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:19:10 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 13:19:10 - DEBUG:   [4;35;1mSQL (256.5ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 13:19:10 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:10 - DEBUG:   [4;35;1mSQL (131.5ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:19:10 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:19:11 - DEBUG:   [4;35;1mSQL (280.7ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 13:19:11 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:19:11 - DEBUG:   [4;35;1mSQL (263.3ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 13:19:11 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:11 - DEBUG:   [4;35;1mSQL (106.5ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:19:11 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:11 - DEBUG:   [4;35;1mSQL (106.5ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:19:11 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 13:19:11 - DEBUG:   [4;35;1mSQL (256.7ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 13:19:11 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:11 - DEBUG:   [4;35;1mSQL (114.2ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 13:19:11 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:19:12 - DEBUG:   [4;35;1mSQL (242.2ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 13:19:12 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:19:12 - DEBUG:   [4;35;1mSQL (231.5ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 13:19:12 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:12 - DEBUG:   [4;35;1mSQL (122.0ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 13:19:12 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 13:19:12 - DEBUG:   [4;35;1mSQL (231.7ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 13:19:12 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:12 - DEBUG:   [4;35;1mSQL (106.8ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:19:12 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (265.1ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (98.5ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (249.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (48.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 13:19:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 13:19:13 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (51.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 13:19:14 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 13:19:14 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 13:19:15 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (409.7ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (143.6ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 13:27:59 - DEBUG:   [4;35;1mSQL (282.9ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 13:27:59 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:00 - DEBUG:   [4;35;1mSQL (106.4ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:00 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:28:00 - DEBUG:   [4;35;1mSQL (248.6ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 13:28:00 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:28:00 - DEBUG:   [4;35;1mSQL (272.4ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 13:28:00 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:00 - DEBUG:   [4;35;1mSQL (123.4ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:00 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:00 - DEBUG:   [4;35;1mSQL (122.8ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:00 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 13:28:01 - DEBUG:   [4;35;1mSQL (256.4ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 13:28:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:01 - DEBUG:   [4;35;1mSQL (114.1ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 13:28:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:28:01 - DEBUG:   [4;35;1mSQL (256.4ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 13:28:01 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:28:01 - DEBUG:   [4;35;1mSQL (264.6ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 13:28:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:01 - DEBUG:   [4;35;1mSQL (96.6ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 13:28:01 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (233.3ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (97.5ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (248.1ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (98.5ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (248.4ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (46.9ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 13:28:02 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 13:28:02 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 13:28:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 13:28:03 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 13:28:04 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 13:28:04 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 13:28:04 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 13:28:04 - DEBUG:   [4;36;1mSQL (41.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 13:28:04 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 13:28:04 - DEBUG:   [4;36;1mSQL (41.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 13:28:04 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 13:28:04 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 13:28:04 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 13:28:04 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 13:28:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:28:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:28:25 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:28:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:28:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:28:26 - DEBUG:   [4;36;1mSQL (411.5ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 13:28:26 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 13:28:26 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:28:26 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:28:26 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:26 - DEBUG:   [4;35;1mSQL (116.1ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:28:26 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 13:28:26 - DEBUG:   [4;35;1mSQL (256.5ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 13:28:26 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:26 - DEBUG:   [4;35;1mSQL (98.0ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:26 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:28:27 - DEBUG:   [4;35;1mSQL (246.7ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 13:28:27 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:28:27 - DEBUG:   [4;35;1mSQL (231.2ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 13:28:27 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:27 - DEBUG:   [4;35;1mSQL (98.1ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:27 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:27 - DEBUG:   [4;35;1mSQL (98.1ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:27 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 13:28:27 - DEBUG:   [4;35;1mSQL (248.5ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 13:28:27 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:27 - DEBUG:   [4;35;1mSQL (105.8ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 13:28:27 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:28:28 - DEBUG:   [4;35;1mSQL (249.9ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 13:28:28 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:28:28 - DEBUG:   [4;35;1mSQL (256.2ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 13:28:28 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:28 - DEBUG:   [4;35;1mSQL (96.7ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 13:28:28 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 13:28:28 - DEBUG:   [4;35;1mSQL (264.8ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 13:28:28 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:28 - DEBUG:   [4;35;1mSQL (156.4ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:28:28 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (240.1ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (106.7ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (248.7ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (48.1ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (49.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 13:28:29 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 13:28:29 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (51.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 13:28:30 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 13:28:30 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 13:28:31 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 13:31:20 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:31:20 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:31:20 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:20 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:31:20 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:31:20 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (424.9ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 13:31:21 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:31:21 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:21 - DEBUG:   [4;35;1mSQL (97.9ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 13:31:21 - DEBUG:   [4;35;1mSQL (248.2ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:21 - DEBUG:   [4;35;1mSQL (106.3ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:31:21 - DEBUG:   [4;35;1mSQL (248.2ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 13:31:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:31:22 - DEBUG:   [4;35;1mSQL (249.8ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 13:31:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:22 - DEBUG:   [4;35;1mSQL (106.4ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:31:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:22 - DEBUG:   [4;35;1mSQL (122.7ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:31:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 13:31:22 - DEBUG:   [4;35;1mSQL (256.5ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 13:31:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:22 - DEBUG:   [4;35;1mSQL (114.2ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 13:31:22 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:31:22 - DEBUG:   [4;35;1mSQL (239.8ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 13:31:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:31:23 - DEBUG:   [4;35;1mSQL (215.0ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 13:31:23 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:23 - DEBUG:   [4;35;1mSQL (112.9ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 13:31:23 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 13:31:23 - DEBUG:   [4;35;1mSQL (238.1ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 13:31:23 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:23 - DEBUG:   [4;35;1mSQL (98.5ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:31:23 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 13:31:23 - DEBUG:   [4;35;1mSQL (248.6ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 13:31:23 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:23 - DEBUG:   [4;35;1mSQL (98.9ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:31:23 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (258.8ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (47.1ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 13:31:24 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 13:31:24 - DEBUG:   [4;36;1mSQL (41.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 13:31:25 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 13:31:25 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 13:31:58 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:31:58 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:31:58 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:58 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 13:31:58 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:31:58 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:31:59 - DEBUG:   [4;36;1mSQL (403.8ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 13:31:59 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 13:31:59 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 13:31:59 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 13:31:59 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:59 - DEBUG:   [4;35;1mSQL (112.2ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:31:59 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 13:31:59 - DEBUG:   [4;35;1mSQL (239.7ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 13:31:59 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:31:59 - DEBUG:   [4;35;1mSQL (89.8ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:31:59 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:32:00 - DEBUG:   [4;35;1mSQL (242.1ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 13:32:00 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 13:32:00 - DEBUG:   [4;35;1mSQL (404.3ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 13:32:00 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:00 - DEBUG:   [4;35;1mSQL (122.8ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:32:00 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:00 - DEBUG:   [4;35;1mSQL (115.4ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:32:00 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 13:32:00 - DEBUG:   [4;35;1mSQL (256.4ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 13:32:00 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:01 - DEBUG:   [4;35;1mSQL (114.4ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 13:32:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:32:01 - DEBUG:   [4;35;1mSQL (256.8ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 13:32:01 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 13:32:01 - DEBUG:   [4;35;1mSQL (241.4ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 13:32:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:01 - DEBUG:   [4;35;1mSQL (97.3ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 13:32:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 13:32:01 - DEBUG:   [4;35;1mSQL (248.7ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 13:32:01 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:01 - DEBUG:   [4;35;1mSQL (98.5ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 13:32:01 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (256.6ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (106.7ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (256.9ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (47.9ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 13:32:02 - DEBUG:   [4;35;1mSQL (57.8ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 13:32:02 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (41.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (51.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 13:32:03 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 13:32:03 - DEBUG:   [4;35;1mSQL (49.9ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 13:32:04 - DEBUG:   [4;36;1mSQL (49.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 13:32:04 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 13:32:04 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 13:32:04 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 13:32:04 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (436.4ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (127.3ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 14:14:19 - DEBUG:   [4;35;1mSQL (264.7ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 14:14:19 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:20 - DEBUG:   [4;35;1mSQL (118.4ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:14:20 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:14:20 - DEBUG:   [4;35;1mSQL (279.6ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 14:14:20 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:14:20 - DEBUG:   [4;35;1mSQL (274.5ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 14:14:20 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:20 - DEBUG:   [4;35;1mSQL (122.9ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:14:20 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:20 - DEBUG:   [4;35;1mSQL (106.0ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:14:20 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 14:14:21 - DEBUG:   [4;35;1mSQL (256.4ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 14:14:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:21 - DEBUG:   [4;35;1mSQL (105.9ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 14:14:21 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:14:21 - DEBUG:   [4;35;1mSQL (256.9ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 14:14:21 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:14:21 - DEBUG:   [4;35;1mSQL (264.3ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 14:14:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:21 - DEBUG:   [4;35;1mSQL (96.7ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 14:14:21 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (231.4ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (130.7ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (239.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (90.3ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (241.8ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (46.8ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 14:14:22 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 14:14:22 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (124.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 14:14:23 - DEBUG:   [4;35;1mSQL (66.1ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 14:14:23 - DEBUG:   [4;36;1mSQL (66.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 14:14:24 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 14:14:24 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 14:14:24 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 14:14:24 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 14:14:24 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 14:14:24 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 14:14:24 - DEBUG:   [4;35;1mSQL (74.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 14:14:24 - DEBUG:   [4;36;1mSQL (160.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 14:14:24 - DEBUG:   [4;35;1mSQL (71.8ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 14:14:24 - DEBUG:   [4;36;1mSQL (82.8ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 14:14:24 - DEBUG:   [4;35;1mSQL (84.8ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 14:14:24 - DEBUG:   [4;36;1mSQL (72.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 14:15:15 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:15:15 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:15:15 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:15 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 14:15:16 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:15:16 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:15:16 - DEBUG:   [4;36;1mSQL (403.7ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm`[0m
2011-01-13 14:15:16 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 14:15:16 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:15:16 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:15:16 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:16 - DEBUG:   [4;35;1mSQL (377.4ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:15:16 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 14:15:17 - DEBUG:   [4;35;1mSQL (264.8ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 14:15:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:17 - DEBUG:   [4;35;1mSQL (139.2ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:15:17 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:15:17 - DEBUG:   [4;35;1mSQL (248.2ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 14:15:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:15:17 - DEBUG:   [4;35;1mSQL (264.6ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 14:15:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:17 - DEBUG:   [4;35;1mSQL (131.1ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:15:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:17 - DEBUG:   [4;35;1mSQL (122.7ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:15:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 14:15:18 - DEBUG:   [4;35;1mSQL (281.3ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 14:15:18 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:18 - DEBUG:   [4;35;1mSQL (105.9ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 14:15:18 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:15:18 - DEBUG:   [4;35;1mSQL (248.2ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 14:15:18 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:15:18 - DEBUG:   [4;35;1mSQL (256.2ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 14:15:18 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (149.6ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (212.3ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (97.6ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (231.5ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (106.8ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (240.2ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:15:19 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 14:15:19 - DEBUG:   [4;36;1mSQL (47.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 14:15:20 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 14:15:20 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 14:15:21 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 14:15:21 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 14:15:21 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 14:15:21 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 14:15:21 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 14:15:21 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 14:15:21 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 14:15:21 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 14:15:21 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 14:15:21 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 14:15:21 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 14:15:21 - DEBUG:   [4;36;1mSQL (74.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:34:44 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm_test`[0m
2011-01-13 14:34:44 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mCREATE DATABASE `alm_test` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:34:44 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:44 - DEBUG:   [4;35;1mSQL (155.5ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 14:34:44 - DEBUG:   [4;35;1mSQL (264.3ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:44 - DEBUG:   [4;35;1mSQL (106.7ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:34:44 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:34:45 - DEBUG:   [4;35;1mSQL (266.8ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 14:34:45 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:34:45 - DEBUG:   [4;35;1mSQL (240.4ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 14:34:45 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:45 - DEBUG:   [4;35;1mSQL (123.7ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:34:45 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:45 - DEBUG:   [4;35;1mSQL (106.4ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:34:45 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 14:34:45 - DEBUG:   [4;35;1mSQL (273.3ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 14:34:45 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:45 - DEBUG:   [4;35;1mSQL (106.2ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 14:34:45 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:34:46 - DEBUG:   [4;35;1mSQL (257.0ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 14:34:46 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:34:46 - DEBUG:   [4;35;1mSQL (264.8ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 14:34:46 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:46 - DEBUG:   [4;35;1mSQL (113.7ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 14:34:46 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 14:34:46 - DEBUG:   [4;35;1mSQL (265.1ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 14:34:46 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:46 - DEBUG:   [4;35;1mSQL (116.2ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:34:46 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (240.4ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (98.8ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (240.3ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (47.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 14:34:47 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 14:34:47 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (50.9ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (47.9ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 14:34:48 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 14:34:48 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 14:34:49 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 14:34:49 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 14:34:49 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 14:34:49 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 14:34:49 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-13 14:35:08 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:35:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:35:08 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-13 14:35:08 - DEBUG:   [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:35:08 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:35:09 - DEBUG:   [4;36;1mSQL (408.9ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm_test`[0m
2011-01-13 14:35:09 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `alm_test` DEFAULT CHARACTER SET `utf8`[0m
2011-01-13 14:35:09 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-13 14:35:09 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-13 14:35:09 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:09 - DEBUG:   [4;35;1mSQL (127.3ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:35:09 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-13 14:35:09 - DEBUG:   [4;35;1mSQL (256.4ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-13 14:35:09 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:09 - DEBUG:   [4;35;1mSQL (100.1ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:35:09 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:35:10 - DEBUG:   [4;35;1mSQL (255.7ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-13 14:35:10 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-13 14:35:10 - DEBUG:   [4;35;1mSQL (256.2ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-13 14:35:10 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:10 - DEBUG:   [4;35;1mSQL (114.6ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:35:10 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:10 - DEBUG:   [4;35;1mSQL (106.1ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:35:10 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-13 14:35:10 - DEBUG:   [4;35;1mSQL (256.5ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-13 14:35:10 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:10 - DEBUG:   [4;35;1mSQL (99.2ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-13 14:35:10 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:35:11 - DEBUG:   [4;35;1mSQL (247.9ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-13 14:35:11 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-13 14:35:11 - DEBUG:   [4;35;1mSQL (256.5ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-13 14:35:11 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:11 - DEBUG:   [4;35;1mSQL (113.2ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-13 14:35:11 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-13 14:35:11 - DEBUG:   [4;35;1mSQL (281.4ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-13 14:35:11 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:11 - DEBUG:   [4;35;1mSQL (114.1ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-13 14:35:11 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (272.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (98.4ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (265.1ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (46.9ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (41.2ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-13 14:35:12 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-13 14:35:12 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (41.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (41.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (43.0ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-13 14:35:13 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-13 14:35:13 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-13 14:35:14 - DEBUG:   [4;35;1mSQL (49.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-13 14:35:14 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-14 15:54:48 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 15:54:48 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 15:54:48 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:48 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-14 15:54:48 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 15:54:48 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (428.8ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm_test`[0m
2011-01-14 15:54:49 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mCREATE DATABASE `alm_test` DEFAULT CHARACTER SET `utf8`[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 15:54:49 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:49 - DEBUG:   [4;35;1mSQL (161.6ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-14 15:54:49 - DEBUG:   [4;35;1mSQL (256.7ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:49 - DEBUG:   [4;35;1mSQL (115.6ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-14 15:54:49 - DEBUG:   [4;35;1mSQL (240.4ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-14 15:54:49 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-14 15:54:50 - DEBUG:   [4;35;1mSQL (223.5ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-14 15:54:50 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:50 - DEBUG:   [4;35;1mSQL (108.9ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-14 15:54:50 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:50 - DEBUG:   [4;35;1mSQL (107.4ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-14 15:54:50 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-14 15:54:50 - DEBUG:   [4;35;1mSQL (256.8ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-14 15:54:50 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:50 - DEBUG:   [4;35;1mSQL (114.7ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-14 15:54:50 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-14 15:54:50 - DEBUG:   [4;35;1mSQL (248.5ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-14 15:54:50 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-14 15:54:51 - DEBUG:   [4;35;1mSQL (256.9ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-14 15:54:51 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:51 - DEBUG:   [4;35;1mSQL (106.2ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-14 15:54:51 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-14 15:54:51 - DEBUG:   [4;35;1mSQL (240.2ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-14 15:54:51 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:51 - DEBUG:   [4;35;1mSQL (114.7ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-14 15:54:51 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-14 15:54:51 - DEBUG:   [4;35;1mSQL (223.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-14 15:54:51 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (98.9ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (251.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (48.2ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-14 15:54:52 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-14 15:54:52 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-14 15:54:53 - DEBUG:   [4;35;1mSQL (41.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-14 15:54:53 - DEBUG:   [4;36;1mSQL (41.3ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-14 16:26:06 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 16:26:06 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 16:26:06 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FULL TABLES WHERE Table_type = 'BASE TABLE'[0m
2011-01-14 16:26:06 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW CREATE TABLE `articles`[0m
2011-01-14 16:26:06 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW CREATE TABLE `citations`[0m
2011-01-14 16:26:06 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW CREATE TABLE `groups`[0m
2011-01-14 16:26:06 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW CREATE TABLE `histories`[0m
2011-01-14 16:26:06 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW CREATE TABLE `retrievals`[0m
2011-01-14 16:26:06 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW CREATE TABLE `schema_migrations`[0m
2011-01-14 16:26:06 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW CREATE TABLE `sources`[0m
2011-01-14 16:26:06 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW CREATE TABLE `users`[0m
2011-01-14 16:26:06 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FULL TABLES WHERE Table_type = 'BASE TABLE'[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSHOW CREATE TABLE `articles`[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW CREATE TABLE `citations`[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSHOW CREATE TABLE `groups`[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW CREATE TABLE `histories`[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW CREATE TABLE `retrievals`[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW CREATE TABLE `schema_migrations`[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mSHOW CREATE TABLE `sources`[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW CREATE TABLE `users`[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm_test`[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mCREATE DATABASE `alm_test` DEFAULT CHARACTER SET `utf8`[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET foreign_key_checks = 0[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (176.5ms)[0m   [0mCREATE TABLE `articles` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `doi` varchar(255) NOT NULL,
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 `retrieved_at` datetime NOT NULL DEFAULT '1970-01-01 00:00:00',
 `pub_med` varchar(255) DEFAULT NULL,
 `pub_med_central` varchar(255) DEFAULT NULL,
 `published_on` date DEFAULT NULL,
 `title` text,
 `citations_count` int(11) NOT NULL DEFAULT '0',
 PRIMARY KEY (`id`),
 UNIQUE KEY `index_articles_on_doi` (`doi`)
) ENGINE=InnoDB AUTO_INCREMENT=959844140 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (99.6ms)[0m   [0;1mCREATE TABLE `citations` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `retrieval_id` int(11) DEFAULT NULL,
 `uri` varchar(255) NOT NULL,
 `details` text,
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 PRIMARY KEY (`id`),
 UNIQUE KEY `index_citations_on_retrieval_id_and_uri` (`retrieval_id`,`uri`),
 KEY `index_citations_on_retrieval_id` (`retrieval_id`)
) ENGINE=InnoDB AUTO_INCREMENT=980190963 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (101.2ms)[0m   [0mCREATE TABLE `groups` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `name` varchar(255) DEFAULT NULL,
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=287030889 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (107.9ms)[0m   [0;1mCREATE TABLE `histories` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `retrieval_id` int(11) NOT NULL,
 `year` int(11) NOT NULL,
 `month` int(11) NOT NULL,
 `citations_count` int(11) DEFAULT '0',
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 PRIMARY KEY (`id`),
 UNIQUE KEY `index_histories_on_retrieval_id_and_year_and_month` (`retrieval_id`,`year`,`month`)
) ENGINE=InnoDB AUTO_INCREMENT=980190963 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (107.9ms)[0m   [0mCREATE TABLE `retrievals` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `article_id` int(11) NOT NULL,
 `source_id` int(11) NOT NULL,
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 `retrieved_at` datetime NOT NULL DEFAULT '1970-01-01 00:00:00',
 `citations_count` int(11) DEFAULT '0',
 `other_citations_count` int(11) DEFAULT '0',
 `local_id` varchar(255) DEFAULT NULL,
 `running` tinyint(1) DEFAULT NULL,
 PRIMARY KEY (`id`),
 UNIQUE KEY `index_retrievals_on_source_id_and_article_id` (`source_id`,`article_id`),
 KEY `retrievals_article_id` (`article_id`,`citations_count`,`other_citations_count`)
) ENGINE=InnoDB AUTO_INCREMENT=1040397644 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:25 - DEBUG:   [4;36;1mSQL (124.4ms)[0m   [0;1mCREATE TABLE `schema_migrations` (
 `version` varchar(255) NOT NULL,
 UNIQUE KEY `unique_schema_migrations` (`version`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:25 - DEBUG:   [4;35;1mSQL (108.0ms)[0m   [0mCREATE TABLE `sources` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `type` varchar(255) DEFAULT NULL,
 `url` varchar(255) DEFAULT NULL,
 `username` varchar(255) DEFAULT NULL,
 `password` varchar(255) DEFAULT NULL,
 `staleness` int(11) DEFAULT '604800',
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 `active` tinyint(1) DEFAULT '1',
 `name` varchar(255) DEFAULT NULL,
 `live_mode` tinyint(1) DEFAULT '0',
 `salt` varchar(255) DEFAULT NULL,
 `searchURL` varchar(255) DEFAULT NULL,
 `timeout` int(11) NOT NULL DEFAULT '30',
 `group_id` int(11) DEFAULT NULL,
 `disable_until` datetime DEFAULT NULL,
 `disable_delay` int(11) NOT NULL DEFAULT '10',
 `partner_id` varchar(255) DEFAULT NULL,
 PRIMARY KEY (`id`),
 UNIQUE KEY `index_sources_on_type` (`type`)
) ENGINE=InnoDB AUTO_INCREMENT=365262435 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (107.9ms)[0m   [0;1mCREATE TABLE `users` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `login` varchar(40) DEFAULT NULL,
 `name` varchar(100) DEFAULT '',
 `email` varchar(100) DEFAULT NULL,
 `crypted_password` varchar(40) DEFAULT NULL,
 `salt` varchar(40) DEFAULT NULL,
 `created_at` datetime DEFAULT NULL,
 `updated_at` datetime DEFAULT NULL,
 `remember_token` varchar(40) DEFAULT NULL,
 `remember_token_expires_at` datetime DEFAULT NULL,
 PRIMARY KEY (`id`),
 UNIQUE KEY `index_users_on_login` (`login`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081113233857');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081114173758');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081118183235');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081118185107');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081121154457');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081122051039');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081124061921');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081124073438');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081127002033');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081203192956');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081205171600');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081205174929');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081208232023');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081212091354');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20081215010727');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20081229214209');[0m
2011-01-14 16:26:26 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090223195720');[0m
2011-01-14 16:26:26 - DEBUG:   [4;36;1mSQL (49.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090303222502');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090311212528');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090313213702');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090318213801');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (49.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090319051504');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (49.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090319062813');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090713182750');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091207204038');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207225429');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100408211121');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100629001517');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100629212419');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100811225645');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101026191031');[0m
2011-01-14 16:26:27 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101217140525');[0m
2011-01-14 16:26:27 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101223214158');[0m
2011-01-18 09:50:14 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-18 09:50:14 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-18 09:50:14 - DEBUG:   [4;36;1mSQL (22.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:14 - DEBUG:   [4;35;1mSQL (14.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-18 09:50:14 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-18 09:50:14 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (478.5ms)[0m   [0;1mDROP DATABASE IF EXISTS `alm_test`[0m
2011-01-18 09:50:15 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mCREATE DATABASE `alm_test` DEFAULT CHARACTER SET `utf8`[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-18 09:50:15 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:15 - DEBUG:   [4;35;1mSQL (151.7ms)[0m   [0mCREATE TABLE `articles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `doi` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `pub_med` varchar(255), `pub_med_central` varchar(255), `published_on` date, `title` text, `citations_count` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `articles`[0m
2011-01-18 09:50:15 - DEBUG:   [4;35;1mSQL (273.2ms)[0m   [0mCREATE UNIQUE INDEX `index_articles_on_doi` ON `articles` (`doi`)[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:15 - DEBUG:   [4;35;1mSQL (107.0ms)[0m   [0mCREATE TABLE `citations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11), `uri` varchar(255) NOT NULL, `details` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-18 09:50:15 - DEBUG:   [4;35;1mSQL (232.2ms)[0m   [0mCREATE UNIQUE INDEX `index_citations_on_retrieval_id_and_uri` ON `citations` (`retrieval_id`, `uri`)[0m
2011-01-18 09:50:15 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-18 09:50:16 - DEBUG:   [4;35;1mSQL (240.4ms)[0m   [0mCREATE INDEX `index_citations_on_retrieval_id` ON `citations` (`retrieval_id`)[0m
2011-01-18 09:50:16 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:16 - DEBUG:   [4;35;1mSQL (123.7ms)[0m   [0mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-18 09:50:16 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:16 - DEBUG:   [4;35;1mSQL (123.2ms)[0m   [0mCREATE TABLE `histories` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `retrieval_id` int(11) NOT NULL, `year` int(11) NOT NULL, `month` int(11) NOT NULL, `citations_count` int(11) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
2011-01-18 09:50:16 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-18 09:50:16 - DEBUG:   [4;35;1mSQL (273.8ms)[0m   [0mCREATE UNIQUE INDEX `index_histories_on_retrieval_id_and_year_and_month` ON `histories` (`retrieval_id`, `year`, `month`)[0m
2011-01-18 09:50:16 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:16 - DEBUG:   [4;35;1mSQL (106.3ms)[0m   [0mCREATE TABLE `retrievals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `article_id` int(11) NOT NULL, `source_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime, `retrieved_at` datetime DEFAULT '1970-01-01 00:00:00' NOT NULL, `citations_count` int(11) DEFAULT 0, `other_citations_count` int(11) DEFAULT 0, `local_id` varchar(255), `running` tinyint(1)) ENGINE=InnoDB[0m
2011-01-18 09:50:16 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-18 09:50:17 - DEBUG:   [4;35;1mSQL (257.0ms)[0m   [0mCREATE INDEX `retrievals_article_id` ON `retrievals` (`article_id`, `citations_count`, `other_citations_count`)[0m
2011-01-18 09:50:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `retrievals`[0m
2011-01-18 09:50:17 - DEBUG:   [4;35;1mSQL (250.1ms)[0m   [0mCREATE UNIQUE INDEX `index_retrievals_on_source_id_and_article_id` ON `retrievals` (`source_id`, `article_id`)[0m
2011-01-18 09:50:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:17 - DEBUG:   [4;35;1mSQL (106.1ms)[0m   [0mCREATE TABLE `sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `type` varchar(255), `url` varchar(255), `username` varchar(255), `password` varchar(255), `staleness` int(11) DEFAULT 604800, `created_at` datetime, `updated_at` datetime, `active` tinyint(1) DEFAULT 1, `name` varchar(255), `live_mode` tinyint(1) DEFAULT 0, `salt` varchar(255), `searchURL` varchar(255), `timeout` int(11) DEFAULT 30 NOT NULL, `group_id` int(11), `disable_until` datetime, `disable_delay` int(11) DEFAULT 10 NOT NULL, `partner_id` varchar(255)) ENGINE=InnoDB[0m
2011-01-18 09:50:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-18 09:50:17 - DEBUG:   [4;35;1mSQL (223.6ms)[0m   [0mCREATE UNIQUE INDEX `index_sources_on_type` ON `sources` (`type`)[0m
2011-01-18 09:50:17 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:17 - DEBUG:   [4;35;1mSQL (107.0ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime) ENGINE=InnoDB[0m
2011-01-18 09:50:17 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
2011-01-18 09:50:17 - DEBUG:   [4;35;1mSQL (231.8ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
2011-01-18 09:50:17 - DEBUG:   [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (99.1ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (257.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM `schema_migrations`[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (47.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101223214158')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081121154457')[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100629212419')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081113233857')[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081203192956')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081124061921')[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090713182750')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205171600')[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100408211121')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090223195720')[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207204038')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090313213702')[0m
2011-01-18 09:50:18 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081114173758')[0m
2011-01-18 09:50:18 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081229214209')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081118183235')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081205174929')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20101217140525')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081118185107')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090303222502')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20101026191031')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081124073438')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20100629001517')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.8ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20100811225645')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (49.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081208232023')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090318213801')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (49.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20090319051504')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (49.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090311212528')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (43.1ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081127002033')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (41.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20081122051039')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (41.3ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081215010727')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (41.4ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20090319062813')[0m
2011-01-18 09:50:19 - DEBUG:   [4;35;1mSQL (41.4ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20081212091354')[0m
2011-01-18 09:50:19 - DEBUG:   [4;36;1mSQL (41.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091207225429')[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-18 10:51:31 - INFO: Migrating to CreateArticles (20081113233857)
2011-01-18 10:51:31 - INFO: Migrating to EnsureDoiUniqueness (20081114173758)
2011-01-18 10:51:31 - INFO: Migrating to CreateSources (20081118183235)
2011-01-18 10:51:31 - INFO: Migrating to CreateUsers (20081118185107)
2011-01-18 10:51:31 - INFO: Migrating to RenameSourcesNameToType (20081121154457)
2011-01-18 10:51:31 - INFO: Migrating to EnsureSourceUniqueness (20081122051039)
2011-01-18 10:51:31 - INFO: Migrating to CreateRetrievals (20081124061921)
2011-01-18 10:51:31 - INFO: Migrating to CreateCitations (20081124073438)
2011-01-18 10:51:31 - INFO: Migrating to AddRetrievedAtToRetrieval (20081127002033)
2011-01-18 10:51:31 - INFO: Migrating to AddRefreshedAtToArticles (20081203192956)
2011-01-18 10:51:31 - INFO: Migrating to RenameAbstractAndRefreshedAt (20081205171600)
2011-01-18 10:51:31 - INFO: Migrating to AddActiveToSources (20081205174929)
2011-01-18 10:51:31 - INFO: Migrating to FixCitationCounting (20081208232023)
2011-01-18 10:51:31 - INFO: Migrating to RemoveArticleIdFromCitation (20081212091354)
2011-01-18 10:51:31 - INFO: Migrating to AddPubmedToArticles (20081215010727)
2011-01-18 10:51:31 - INFO: Migrating to CreateHistories (20081229214209)
2011-01-18 10:51:31 - INFO: Migrating to AddPublishedOnToArticle (20090223195720)
2011-01-18 10:51:31 - INFO: Migrating to AddArticleTitle (20090303222502)
2011-01-18 10:51:31 - INFO: Migrating to AddIndices (20090311212528)
2011-01-18 10:51:31 - INFO: Migrating to AddLocalIdToRetrieval (20090313213702)
2011-01-18 10:51:31 - INFO: Migrating to AddNameToSource (20090318213801)
2011-01-18 10:51:31 - INFO: Migrating to ChangeArticleTitleToText (20090319051504)
2011-01-18 10:51:31 - INFO: Migrating to AddExtraScopusFields (20090319062813)
2011-01-18 10:51:31 - INFO: Migrating to AddSearchUrlToSource (20090713182750)
2011-01-18 10:51:31 - INFO: Migrating to EnsureCitationUniqueness (20091207204038)
2011-01-18 10:51:31 - INFO: Migrating to AddTimeout (20091207225429)
2011-01-18 10:51:31 - INFO: Migrating to AddGroups (20100408211121)
2011-01-18 10:51:31 - INFO: Migrating to AddDisableTimerToSources (20100629001517)
2011-01-18 10:51:31 - INFO: Migrating to AddRunningFlagToRetrieval (20100629212419)
2011-01-18 10:51:31 - INFO: Migrating to AddPartnerIdToSources (20100811225645)
2011-01-18 10:51:31 - INFO: Migrating to DefaultRetrievalsRetrievedAtToEpoch (20101026191031)
2011-01-18 10:51:31 - INFO: Migrating to ChangeDefaultDisableDelay (20101217140525)
2011-01-18 10:51:31 - INFO: Migrating to AddNotNullToSourceDisableDelay (20101223214158)
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `articles`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (1.8ms)[0m   [0mSHOW KEYS FROM `articles`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `citations`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.2ms)[0m   [0mdescribe `citations`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (5.1ms)[0m   [0;1mSHOW KEYS FROM `citations`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `groups`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `groups`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `histories`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.6ms)[0m   [0mdescribe `histories`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (23.3ms)[0m   [0;1mSHOW KEYS FROM `histories`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `retrievals`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `retrievals`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (6.0ms)[0m   [0mSHOW KEYS FROM `retrievals`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `sources`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.9ms)[0m   [0mdescribe `sources`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sources`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
2011-01-18 10:51:31 - DEBUG:   [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `users`[0m
2011-01-18 10:51:31 - DEBUG:   [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
